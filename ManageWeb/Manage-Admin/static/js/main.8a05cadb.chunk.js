(this["webpackJsonpimmowert-admin"]=this["webpackJsonpimmowert-admin"]||[]).push([[0],{52:function(e,t,n){},71:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(22),s=n.n(c),o=(n(52),n(3)),i=n(96),l=n(25),u=n.n(l),d=u.a.create({baseURL:"http://5.189.167.37:5000/api/"});d.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(h.tokenValue),e}));var b=d,j=new i.a(""),f="accessToken";var m=function(e){j.next(e)},h={login:function(e){return b.post("account/auth",e).then((function(e){j.next(e.data.token),localStorage.setItem(f,e.data.token)}))},logout:function(){j.next(""),localStorage.removeItem(f)},setAccessTokenFromLocalStorage:function(){var e=localStorage.getItem(f);e&&m(e)},currentToken:j.asObservable(),get tokenValue(){return j.value},getCurrentUser:function(){return b.get("users/current").then((function(e){var t=e.data;return t.isCoworker?b.get("coworkers/".concat(t.id)):e}))}},p=(n(71),n(1));var O=function(){return Object(p.jsx)("div",{className:"spinner-body",children:Object(p.jsx)("div",{id:"spinner"})})},x=n(5),g=n(13),v=function(e){var t=e.split(/(?=[A-Z])/);return t=(t=t.join(" ")).charAt(0).toUpperCase()+t.slice(1)},N=n(6);function y(e){var t=e.fieldName,n=e.placeholder,a=e.register,r=e.validation,c=e.type,s=void 0===c?"text":c,o=e.step,i=void 0===o?"1":o;return Object(p.jsx)("div",{children:Object(p.jsx)("input",Object(N.a)({className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:s,placeholder:n,step:i},a(t,Object(N.a)({},r))))})}var w=n(28),k=n(8);function S(e,t,n,r){var c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],d=Object(a.useState)([]),j=Object(o.a)(d,2),f=j[0],m=j[1],h=Object(a.useState)(!0),p=Object(o.a)(h,2),O=p[0],x=p[1];return Object(a.useEffect)((function(){m([]),x(!0)}),[t]),Object(a.useEffect)((function(){if(O){var a;l(!0);var c="".concat(e,"?page=").concat(n,"&").concat(r,"=").concat(t);return b.get(c,{cancelToken:new u.a.CancelToken((function(e){return a=e}))}).then((function(e){m((function(t){return[].concat(Object(k.a)(t),Object(k.a)(e.data.results.map((function(e){return{label:e[r],value:e.id}}))))})),x(null!==e.data.next),l(!1)})).catch((function(e){u.a.isCancel(e)})),function(){return a()}}}),[t,n,O]),{loading:i,options:f,hasMore:O}}function C(e){var t=e.filterBy,n=e.itemsUrl,r=e.placeholder,c=e.fieldName,s=e.control,i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(a.useState)(1),j=Object(o.a)(b,2),f=j[0],m=j[1],h=Object(a.useState)({}),x=Object(o.a)(h,2),v=x[0],N=x[1],y=S(n,u,f,t),k=y.loading,C=y.options,P=y.hasMore;Object(a.useEffect)((function(){N(E())}),[C]);var T=function(){P&&m((function(e){return e+1}))},E=function(){if(C&&s.defaultValuesRef&&s.defaultValuesRef.current["".concat(c)]){var e=s.defaultValuesRef.current["".concat(c)],t=C.find((function(t){return t.value===e}));if(t)return t;T()}};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(g.a,{control:s,name:c,render:function(e){var t=e.field.onChange;return Object(p.jsx)(w.a,{onChange:function(e){return t(function(e){return null==e?null:(N(e),e.value)}(e))},isLoading:k,onInputChange:function(e){return function(e){d(e),m(1)}(e)},placeholder:r,options:C,onMenuScrollToBottom:T,loadingMessage:function(){return Object(p.jsx)(O,{})},noOptionsMessage:function(){return"No one ".concat(c," match to serach phrase.")},value:v})},rules:{required:!0}})})}function P(e){var t=e.placeholder,n=e.fieldName,r=e.control,c=e.options,s=e.multi,i=Object(a.useState)({}),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(a.useRef)();Object(a.useEffect)((function(){b.current.onChange(j())}),[d,c]);var j=function(){if(c)return s?r.defaultValuesRef&&r.defaultValuesRef.current["".concat(n)]?c.filter((function(e){return r.defaultValuesRef.current["".concat(n)].some((function(t){return t.name===e.label}))})):[]:r.defaultValuesRef&&r.defaultValuesRef.current["".concat(n)]?c.find((function(e){return e.label===r.defaultValuesRef.current["".concat(n)]})):""};return Object(p.jsx)("div",{children:Object(p.jsx)(g.a,{control:r,name:n,rules:{required:!0},render:function(e){var a=e.field.onChange;return Object(p.jsx)(w.a,{onChange:function(e){return a(function(e){return null==e?null:s?(d(e),e.map((function(e){return e.value}))):(d(e),e.value)}(e))},placeholder:t,options:c,ref:b,isMulti:s,value:u,noOptionsMessage:function(){return"No one ".concat(n.replace(/([A-Z])/g," $1").toLowerCase()," match to serach phrase.")}})}})})}function T(e){var t=e.placeholder,n=e.fieldName,r=e.control,c=e.dateFormat,s=Object(a.useState)({}),i=Object(o.a)(s,2),l=i[0],u=i[1],d="YYYY-MM-DD"==c;return Object(a.useEffect)((function(){u(function(){var e;return r.defaultValuesRef&&r.defaultValuesRef.current["".concat(n)]?null===(e=r.defaultValuesRef)||void 0===e?void 0:e.current["".concat(n)].slice(0,19):""}())}),[]),Object(p.jsx)(g.a,{control:r,name:n,render:function(e){var n=e.field.onChange;return Object(p.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:d?"date":"datetime-local",placeholder:t,onChange:function(e){return n(function(e){if(null==e)return null;var t=new Date(e.target.value).toISOString();return d&&(t=new Date(e.target.value).toISOString().slice(0,10)),u(e.target.value),t}(e))},value:l})},rules:{required:!0}})}function E(e){var t=e.fieldName,n=e.placeholder,a=e.register,r=e.validation;return Object(p.jsxs)("label",{className:"inline-flex items-center text-l mt-3",children:[Object(p.jsx)("input",Object(N.a)({className:"form-checkbox h-5 w-5 text-gray-600",type:"checkbox",placeholder:n},a(t,Object(N.a)({},r)))),Object(p.jsx)("span",{className:"ml-2 text-gray-700",children:n})]})}function B(e){var t=e.placeholder,n=e.fieldName,r=e.control,c=e.validation,s=Object(a.useState)({}),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){u(function(){var e;return r.defaultValuesRef&&r.defaultValuesRef.current["".concat(n)]?null===(e=r.defaultValuesRef)||void 0===e?void 0:e.current["".concat(n)].join(", "):""}())}),[]),Object(p.jsx)(g.a,{control:r,name:n,render:function(e){var n=e.field.onChange;e.rules;return Object(p.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:t,onChange:function(e){return n(function(e){if(null==e)return null;var t=e.target.value;return u(t),t.replace(/\s/g,"").split(",")}(e))},value:l})},rules:c})}function A(e){var t=e.placeholder,n=e.fieldName,r=e.control,c=e.btnText,s=void 0===c?"Add new image":c,i=e.availbaleSizeInMB,l=void 0===i?10:i,u=e.availableExtensions,d=void 0===u?["image/jpg","image/png","image/gif"]:u,b=Object(a.useState)(""),j=Object(o.a)(b,2),f=j[0],m=j[1],h=Object(a.useRef)();Object(a.useEffect)((function(){m(O())}),[]);var O=function(){return r.defaultValuesRef&&r.defaultValuesRef.current["".concat(n)]?r.defaultValuesRef.current["".concat(n)]:""},x=function(e){return d.map((function(e){return e.split("/")[1]})).includes(e)};return Object(p.jsxs)("div",{className:"flex items-center space-y-2 flex-col shadow appearance-none bg-white border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[f&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"text-l px-2 py-2",children:"Current image"}),Object(p.jsx)("img",{className:"mx-auto border-2",alt:"Current",width:150,height:150,src:f})]}),Object(p.jsx)(g.a,{control:r,name:n,render:function(e){var n=e.field.onChange;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{className:"hidden",type:"file",placeholder:t,onChange:function(e){return n(function(e){if(null==e)return null;var t=e.target.files[0],n=t.name.split(".")[1];if(x(n)){if(!(t.size>1048576*l))return m(URL.createObjectURL(t)),t;alert("File is too large!")}else alert("Wrong file extension!")}(e))},ref:h,accept:d.join(", ")}),Object(p.jsx)("button",{onClick:function(){return h.current.click()},type:"button",className:"appearance-nonerounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100 hover:bg-gray-300 transition-all rounded w-1/4",children:s})]})},rules:{required:!0}})]})}function z(e){var t=e.fieldName,n=e.placeholder,a=e.register,r=e.validation,c=e.type,s=void 0===c?"text":c,o=e.step,i=void 0===o?"1":o,l=e.cols,u=e.rows;return Object(p.jsx)("div",{children:Object(p.jsx)("textarea",Object(N.a)({className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:s,cols:l,rows:u,placeholder:n,step:i},a(t,Object(N.a)({},r))))})}function R(e){var t,n=e.field,a=e.errors,r=e.control,c=e.register,s=n.dateFormat,o=n.fieldName,i=n.btnText,l=n.itemsUrl,u=n.placeholder,d=n.filterBy,b=n.options,j=n.cols,f=n.rows,m=n.validation,h=n.type,O=void 0===h?"text":h,x=n.step,g=void 0===x?1:x;return t="dropdown"===O?Object(p.jsx)(C,{fieldName:o,placeholder:u,itemsUrl:l,control:r,filterBy:d}):"select"===O?Object(p.jsx)(P,{fieldName:o,placeholder:u,control:r,options:b}):"multiselect"===O?Object(p.jsx)(P,{fieldName:o,placeholder:u,control:r,options:b,multi:!0}):"date"===O?Object(p.jsx)(T,{fieldName:o,placeholder:u,control:r,dateFormat:s}):"checkbox"===O?Object(p.jsx)(E,{fieldName:o,placeholder:u,register:c,validation:m}):"file"===O?Object(p.jsx)(A,{fieldName:o,placeholder:u,control:r,btnText:i}):"textarea"===O?Object(p.jsx)(z,{fieldName:o,placeholder:u,register:c,validation:m,cols:j,rows:f,type:O,step:g}):"textarray"===O?Object(p.jsx)(B,{fieldName:o,placeholder:u,validation:m,register:c,control:r}):Object(p.jsx)(y,{fieldName:o,placeholder:u,register:c,validation:m,type:O,step:g}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"capitalize pt-4 font-bold",children:v(u)}),Object(p.jsxs)("div",{className:"h-1/3",children:[t,a&&o in a&&function(e){var t=e.message;return"required"===e.type&&(t="This field is required"),Object(p.jsx)("p",{className:"text-center text-red-500 text-xs",children:t})}(a[o])]},o)]})}function M(e){var t=e.preloadedData,n=e.fields,a=e.btnText,r=e.submit,c=e.scroll,s=void 0===c?"overflow-y-scroll":c,o=e.clearFormAfterSubmit,i=void 0!==o&&o,l=e.responseErrors,u=e.success,d=Object(g.b)({defaultValues:t}),b=d.register,j=d.handleSubmit,f=d.formState.errors,m=d.control,h=d.reset;return Object(p.jsxs)("form",{onSubmit:j((function(e){return i&&h(),r(e)})),className:"w-full px-6 pb-1 max-h-85vh ".concat(s),children:[n&&n.map((function(e){return Object(p.jsx)(R,{field:e,errors:f,register:b,control:m},e.fieldName)})),Object(p.jsx)("div",{className:"md:flex md:items-center",children:Object(p.jsx)("div",{className:"w-full flex items-center justify-center mt-4",children:Object(p.jsx)("input",{className:"shadow bg-blue-accent cursor-pointer hover:bg-blue-hover \r focus:shadow-outline focus:outline-none text-white font-bold py-1 mb-1 px-3 rounded mx-auto",type:"submit",value:a})})}),l&&l.map((function(e,t){return Object(p.jsx)("div",{className:"p-2 text-red-600 text-center",children:e},t)})),u&&Object(p.jsx)("div",{className:"p-2 text-green-600 text-center",children:"Succesfully added!"})]})}var I=function(e){var t=e.onSubmit;return Object(p.jsx)(M,{fields:[{fieldName:"email",placeholder:"E-mail",validation:{required:!0}},{fieldName:"password",placeholder:"Passwort",validation:{required:!0,minLength:{value:2,message:"Passwort sollte mindestens 2 Zeichen lang sein"}},type:"password"}],btnText:"Einloggen",submit:t,scroll:""})};n(87);var q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(x.f)();return Object(p.jsx)("div",{className:"h-screen bg-gray-200 m-0 w-screen flex items-center justify-center flex-col",children:Object(p.jsxs)("div",{className:"bg-white rounded shadow-md flex items-center justify-center flex-col login-form relative",children:[Object(p.jsx)(I,{onSubmit:function(e){l(!0),h.login(e).then((function(){u.push("/customers")})).catch((function(e){r(e.response.data)})).finally((function(){l(!1)}))}}),0!==n.length&&n.map((function(e,t){return Object(p.jsx)("span",{className:"m-0 text-center text-red-500 text-sm absolute bottom-1",children:e},t)})),i&&Object(p.jsx)("div",{className:"absolute w-full",children:Object(p.jsx)(O,{})})]})})},V=n(20),U=n(7),D=function(e){var t=e.optionName,n=e.route;return Object(p.jsx)("li",{className:"py-2 hover:bg-blue-accent flex transition duration-200 ease-in-out rounded-md w-full mt-2 cursor-pointer",children:Object(p.jsx)(U.b,{className:"text-white w-full",to:n,"data-toggle":"collapse","aria-expanded":"false",children:t})})};n(90);var F=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(a.useState)(!1),m=Object(o.a)(f,2),O=m[0],x=m[1],g=Object(a.useState)(!1),v=Object(o.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)(!1),k=Object(o.a)(w,2),S=k[0],C=k[1],P=Object(a.useState)(!1),T=Object(o.a)(P,2),E=T[0],B=T[1];Object(a.useEffect)((function(){h.getCurrentUser().then((function(e){C(A("canBrokers",e.data)),l(A("canCoworkers",e.data)),j(A("canStatistics",e.data)),x(A("canRanking",e.data)),y(A("canPartners",e.data)),B(A("canCustomers",e.data)),r(A("canNotifications",e.data))}))}),[]);var A=function(e,t){return t.isAdmin||t[e]};return Object(p.jsxs)("div",{className:"text-center bg-sidemenu bg-no-repeat",children:[Object(p.jsxs)("h1",{className:"m-3 py-4 text-white font-bold",children:["IMMOWERT",Object(p.jsx)("br",{}),Object(p.jsx)("span",{className:"text-blue-accent",children:"4YOU"})]}),Object(p.jsxs)("ul",{className:"list-unstyled components px-3",children:[E&&Object(p.jsx)(D,{optionName:"Benutzer",route:"/customers"}),S&&Object(p.jsx)(D,{optionName:"Makler",route:"/brokers"}),N&&Object(p.jsx)(D,{optionName:"Kooperationspartner",route:"/partners"}),O&&Object(p.jsx)(D,{optionName:"Rangfolge",route:"/ranking"}),b&&Object(p.jsx)(D,{optionName:"Statistiken",route:"/statistics"}),i&&Object(p.jsx)(D,{optionName:"Mitarbeiter",route:"/coworkers"}),n&&Object(p.jsx)(D,{optionName:"Angebote",route:"/offerts"})]}),Object(p.jsx)("div",{className:"px-3 absolute w-full bottom-5",children:Object(p.jsxs)("button",{type:"button",onClick:function(e){h.logout(e)},className:"text-white py-2 cursor-pointer hover:bg-blue-accent\r transition duration-200 ease-in-out rounded-md w-full flex justify-center items-center",children:[Object(p.jsx)(V.b,{className:"mr-1"}),"Ausloggen"]})})]})},L=function(e){var t=e.errors;return Object(p.jsx)("div",{className:"p-6",children:Object(p.jsxs)("div",{className:"bg-white rounded shadow-md mt-6 w-full",children:[Object(p.jsx)("div",{className:"p-10 font-bold text-lg text-center",children:"Error Occurred"}),t&&t.map((function(e){return Object(p.jsx)("div",{className:"p-10 text-red-600 text-center",children:e})}))]})})},K=function(){return Object(p.jsx)("div",{className:"p-6",children:Object(p.jsx)("div",{className:"bg-white rounded shadow-md mt-6 w-full",children:Object(p.jsxs)("div",{className:"p-9 flex flex-col items-center justify-center",children:[Object(p.jsx)("div",{className:"font-bold text-lg",children:"Loading..."}),Object(p.jsx)(O,{})]})})})},H=function(){return Object(p.jsx)("div",{className:"p-6",children:Object(p.jsx)("div",{className:"bg-white rounded shadow-md mt-6 w-full",children:Object(p.jsx)("div",{className:"p-10 font-bold text-lg text-center",children:"No data yet"})})})},W=n(29),Z=n(35),$=n(26),G=/^[^\s@]+@[^\s@]+$/,Y=/(\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(.+?\d+)?)/,_=function(e){return e?Object(p.jsx)($.b,{className:"text-blue-600"}):Object(p.jsx)($.c,{className:"text-red-600"})},J=function(e,t,n){if(String(e).startsWith("http://")||String(e).startsWith("https://"))return Object(p.jsx)("a",{href:e,className:"text-blue-600 underline",target:"_blank",rel:"noreferrer",children:"link"});var a=String(e);return e.length>=n&&!t&&(a=e.substring(0,n)+"..."),G.test(String(e).toLowerCase())?Object(p.jsx)("a",{href:"mailto:"+e,className:"text-blue-600 underline",children:a}):String(e).match(Y)?new Date(e).toLocaleString():a},Q=function(e){if(console.log(e),Array.isArray(e))return e.map((function(e,t){return Object(p.jsx)("div",{children:J(e)},t)}));Object.keys(e).map((function(t){return Object(p.jsx)("div",{children:J(e[t])},t)}))},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;if(null==e||""===e)return"-";switch(typeof e){case"boolean":return _(e);case"string":return J(e,t,n);case"object":return Q(e);default:return e}};function ee(e){var t=e.isReadOnly,n=e.cell,a=e.maxChars;return Object(p.jsx)("div",Object(N.a)(Object(N.a)({},n.getCellProps()),{},{className:"td border-b border-gray-200 m-0 relative p-2 h-full ".concat(!t&&"cursor-pointer"),children:X(n.value,!1,a)}))}function te(e){var t=e.to,n=e.cell;return Object(p.jsx)(U.b,{to:t,children:Object(p.jsx)(ee,{cell:n})})}n(92);var ne=function(e){e.url;var t=e.spacePerColumn,n=e.columns,r=e.data,c=e.addOrdering,s=e.title,o=e.ordering,i=e.maxNmbOfChars,l=e.isReadOnly,u=Object(a.useMemo)((function(){var e={minWidth:150,maxWidth:1e3};return 0!==t&&(e=Object(N.a)(Object(N.a)({},e),{},{width:t-15})),e}),[t]),d=Object(W.useTable)({columns:n,data:r,defaultColumn:u},W.useBlockLayout,W.useResizeColumns),b=d.getTableProps,j=d.getTableBodyProps,f=d.headerGroups,m=d.rows,h=d.prepareRow;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"w-full mt-2 overflow-x-scroll",children:Object(p.jsxs)("div",Object(N.a)(Object(N.a)({},b()),{},{className:"table border border-gray-300",children:[Object(p.jsx)("div",{className:"w-full bg-blue-accent",children:f.map((function(e){return Object(p.jsx)("div",Object(N.a)(Object(N.a)({},e.getHeaderGroupProps()),{},{className:"tr",children:e.headers.map((function(e){return Object(p.jsxs)("div",Object(N.a)(Object(N.a)({},e.getHeaderProps()),{},{className:"th m-0 relative p-2 font-bold text-white",onClick:function(){return c(e.id)},children:[Object(p.jsxs)("div",{className:"flex justify-between",children:[e.render("Header"),(t=e.id,t=t.replace(/([A-Z])/g,"_$1").toLowerCase(),o.includes(t)?Object(p.jsx)(Z.b,{color:"white"}):o.includes("-".concat(t))?Object(p.jsx)(Z.a,{color:"white"}):null)]}),Object(p.jsx)("div",Object(N.a)(Object(N.a)({},e.getResizerProps()),{},{className:"resizer ".concat(e.isResizing?"isResizing":"")}))]}));var t}))}))}))}),Object(p.jsx)("div",Object(N.a)(Object(N.a)({},j()),{},{className:"overflow-auto h-60vh w-full",children:m.map((function(e,t){return h(e),Object(p.jsx)("div",Object(N.a)(Object(N.a)({},e.getRowProps()),{},{className:"tr hover:bg-gray-200",children:e.cells.map((function(t,n){return"id"!=t.column.id||l?Object(p.jsx)(ee,{isReadOnly:l,cell:t,maxChars:i}):Object(p.jsx)(te,{to:"".concat((a=s,a.charAt(0).toLowerCase()+a.slice(1)),"/").concat(e.original.id),cell:t});var a}))}))}))}))]}))})})},ae=function(e){var t=e.fields,n=e.onToggleField,r=e.visibleFields,c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1];return Object(p.jsxs)("div",{className:"mr-2 shadow-md cursor-pointer relative w-52",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[Object(p.jsxs)("div",{className:"flex items-center justify-between hover:bg-gray-100 py-1 px-2 border-gray-800 border rounded",children:[Object(p.jsx)("div",{className:"text-gray-800 font-bold",children:"Columns"}),Object(p.jsx)($.a,{className:"".concat(i?"transform rotate-180":null," text-gray-800 transition-all duration-75")})]}),i&&Object(p.jsx)("div",{className:"absolute flex flex-col bg-white border-gray-800 border-l border-r left-0 w-full transition-all duration-75 shadow-md z-10 top-7 pt-1 rounded-b border-b",children:t&&t.map((function(e){return Object(p.jsx)("div",{className:"px-2 py-1 text-left text-gray-800 border-gray-800 border-t "+(r.includes(e)?"bg-white hover:bg-gray-100":"bg-gray-100 text-opacity-40"),onClick:function(){return n(e)},children:e.Header},e.Header)}))})]})},re=n(16),ce=function(e){var t=e.header;return Object(p.jsxs)("div",{className:"bg-blue-accent absolute z-10 rounded py-3 px-4 ml-3 flex items-center",children:[Object(p.jsx)(re.e,{className:"text-white"}),Object(p.jsx)("h3",{className:"text-white text-xl ml-3 my-0 font-normal",children:t})]})},se=function(e){switch(e){case"First Name":return"Vorname";case"Last Name":return"Nachname";case"Broker Name":return"Maklername";case"Phone Number":return"Telefonnummer";case"Zip Code":case"Zip Codes":return"PLZ";case"Responsibility Area":return"Verantwortungsbereich";case"Points":return"Punkte";case"Province":return"Bezirk";case"Estimations Number":return"Sch\xe4tzungszahl";case"Estimations Average":return"Durchschnitt";case"Place":return"Platz";case"Region Place":return"Regionsplatz";case"Type":return"Typ";case"Size":return"Gr\xf6\xdfez";case"Address":return"Adresse";case"Rooms":return"R\xe4ume";case"Floor":return"Umhauen";case"Extras":return"Extras";case"Is Agreed":return"Ist vereinbart";case"Is Estimated":return"Wird gesch\xe4tzt";case"Price":return"Preis";case"Sub Category":return"Unterkategorie";case"Living Surface":return"Wohnfl\xe4che";case"Year Of Built":return"Baujahr";case"Has Basement":return"Keller";case"Floors":return"Etagen";case"Condition Rate":return"Konditionsrate";case"Intention To Sell":return"Absicht zu verkaufen";case"City":return"Stadt";case"House Number":return"Hausnummer";case"Has Balcony":return"Balkon";case"Has Loggia":return"Loggia";case"Has Garden":return"Garten";case"Has Carport":return"Carport";case"Has Garage":return"Garage";case"Has Parking":return"Parkpl\xe4tze";case"Has Basement Closet":return"Kellerschrank";case"Has Energy Certificate":return"Energieausweis";case"Heating System":return"Heizungssystem";case"Is Open Offer":return"Ist offenes Angebot";case"Monthly Costs":return"Monatliche Kosten";case"Heating Costs":return"HWB";case"Photos":return"Fotos";case"Displayed To Broker":return"Dem Broker angezeigt";case"Company Name":return"Name der Firma";case"Houses Estimated":return"Bewertete H\xe4user";case"Apartment Estimated":return"Bewertete Wohnungen";case"Parcel Estimated":return"Bewertete Grundst\xfccke";case"Average Property Price":return"Durchschnittspreis";case"Intention To Sell10":return"Verkaufsbereitschaft 10";case"Intention To Sell9":return"Verkaufsbereitschaft 9";case"Intention To Sell8":return"Verkaufsbereitschaft 8";case"Intention To Sell7":return"Verkaufsbereitschaft 7";case"Intention To Sell6":return"Verkaufsbereitschaft 6";case"Intention To Sell5":return"Verkaufsbereitschaft 5";case"Intention To Sell4":return"Verkaufsbereitschaft 4";case"Intention To Sell3":return"Verkaufsbereitschaft 3";case"Intention To Sell2":return"Verkaufsbereitschaft 2";case"Intention To Sell1":return"Verkaufsbereitschaft 1";case"Can Customers":return"Benutzer bearbeiten";case"Can Brokers":return"Makler bearbeiten";case"Can Statistics":return"Statistiken ansehen";case"Can Ranking":return"Ranking-\xdcbersicht";case"Can Messages":return"Nachrichten lesen";case"Can Notifications":return"Angebote senden";case"Can Partner":return"Partner bearbeiten";case"Phone Number Confirmed":return"Rufnummer best\xe4tigt";case"Is Open Offert":return"In Arbeit";case"Is Closed":return"Wird verweigert";case"Has Met":return"Hat getroffen";case"Has Contract":return"Hat Vertrag";case"Created Date":return"Erstellt am";default:return e}};var oe=function(e){var t=e.data,n=(e.url,e.header),r=e.addOrdering,c=e.title,s=e.ordering,i=e.availableWidth,l=e.isCustomerPage,u=e.maxNmbOfChars,d=e.aboveTableComponent,b=e.fieldsVisibleAtBeginning,j=void 0===b?[]:b,f=e.isReadOnly,m=void 0!==f&&f,h=Object(a.useState)([]),O=Object(o.a)(h,2),x=O[0],g=O[1],N=Object(a.useState)([]),y=Object(o.a)(N,2),w=y[0],k=y[1];Object(a.useEffect)((function(){if(null!=t&&0!==t.length){for(var e=[],n=[],a=0,r=Object.entries(t[0]);a<r.length;a++){var c=Object(o.a)(r[a],2),s=c[0],i=(c[1],{accessor:s,Header:se(v(s))});e.push(i),j.includes(s)&&n.push(i)}g(e),k(n),0==n.length&&k(e)}else g([])}),[t]);var S=function(){var e=0==j.length?x:j;return 0!==e.length?i/e.length:0}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ce,{header:n}),Object(p.jsxs)("div",{className:"bg-white rounded shadow-md w-full flex flex-col border-gray-400 py-2 px-3 mt-6",children:[Object(p.jsxs)("div",{className:"flex justify-end",children:[d,!l&&!m&&Object(p.jsxs)(U.b,{className:"text-gray-800 font-bold border-gray-800 border py-1 px-2 rounded shadow-md hover:bg-gray-100 mr-2 cursor-pointer",to:"".concat(c.toLowerCase(),"/add"),children:["Addieren ",n.toLowerCase()]}),Object(p.jsx)(ae,{fields:x,onToggleField:function(e){var t=w;(t=t.filter((function(t){return t!==e}))).length===w.length&&t.push(e),k(t)},visibleFields:w})]}),Object(p.jsx)(ne,{columns:w,data:t,addOrdering:r,title:c,ordering:s,maxNmbOfChars:u,spacePerColumn:S,isReadOnly:m})]})]})},ie="increase",le="decrease",ue="default";var de=function(e){var t=e.url,n=e.title,r=e.isCustomerPage,c=e.preloadedData,s=e.aboveTableComponent,i=e.isReadOnly,l=e.maxNmbOfChars,u=e.fieldsVisibleAtBeginning,d=Object(a.useState)(20),j=Object(o.a)(d,2),f=j[0],m=j[1],h=Object(a.useState)(20),O=Object(o.a)(h,2),x=(O[0],O[1]),g=Object(a.useState)(1),v=Object(o.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)([]),S=Object(o.a)(w,2),C=S[0],P=S[1],T=Object(a.useState)(!1),E=Object(o.a)(T,2),B=E[0],A=E[1],z=Object(a.useState)(!1),R=Object(o.a)(z,2),M=R[0],I=R[1],q=Object(a.useState)([]),V=Object(o.a)(q,2),U=V[0],D=V[1],F=Object(a.useState)(0),W=Object(o.a)(F,2),Z=W[0],$=W[1],G=Object(a.useState)(!1),Y=Object(o.a)(G,2),_=Y[0];Y[1],Object(a.useEffect)((function(){if(null!=c)return P(c),void console.log(c);t&&(A(!0),I(!1),b.get(t).then((function(e){Array.isArray(e.data)||(e.data=[e.data]),P(e.data),x(e.data.count)})).catch((function(e){console.log(e),I(!0)})).finally((function(e){A(!1)})))}),[t,N,f,U]);var J=Object(a.useCallback)((function(e){null!==e&&$(e.getBoundingClientRect().width)}));return B?Object(p.jsx)(K,{}):M?Object(p.jsx)(L,{}):_?Object(p.jsx)(H,{}):Object(p.jsx)("div",{ref:J,className:"p-6",children:Object(p.jsx)(oe,{data:C,header:n,availableOptions:[10,15,20,40],setPageSize:m,pageSize:f,addOrdering:function(e){var t,n=Object(k.a)(U);if(e=e.replace(/([A-Z])/g,"_$1").toLowerCase(),n.includes(e)){var a=n.indexOf(e);n[a]="-".concat(e),t=le}else if(n.includes("-".concat(e))){var r=n.indexOf("-".concat(e));n.splice(r,1),t=ue}else n.push(e),t=ie;return D(n),y(1),t},title:t,ordering:U,availableWidth:Z,isCustomerPage:r,maxNmbOfChars:l,aboveTableComponent:s,isReadOnly:i,fieldsVisibleAtBeginning:u})})};var be=function(){return Object(p.jsx)(de,{title:"Benutzer",url:"/Customers",isCustomerPage:"isCustomerPage",fieldsVisibleAtBeginning:["id","email","firstName","lastName","zipCode","phoneNumber","brokerName"]})};var je=function(){return Object(p.jsx)(de,{title:"Makler",url:"/Brokers",fieldsVisibleAtBeginning:["id","email","firstName","lastName","points","province"]})};var fe=function(){return Object(p.jsx)(de,{title:"Kooperationspartner",url:"/Partners"})},me=function(e){var t=Object.keys(e),n=new FormData;return t.forEach((function(t){"image"===t&&"string"!==typeof e[t]?n.append(t,e[t],e[t].name):Array.isArray(e[t])?e[t].forEach((function(e){return n.append(t+"[]",e)})):n.append(t,e[t])})),n},he="/Brokers/";var pe={getAllMaklers:function(){return b.get(he)},add:function(e){var t=me(e);return b.post(he,t)},getMaklerById:function(e){return b.get(he+"".concat(e,"/"))},updateMakler:function(e,t){var n=me(t);return b.put(he+"".concat(e,"/"),n)},deleteMakler:function(e){return b.delete(he+"".concat(e,"/"))},blockMakler:function(e){return b.post("/Users/".concat(e,"/block"))},unblockMakler:function(e){return b.post("/Users/".concat(e,"/unblock"))},activateMakler:function(e){return b.post(he+"".concat(e,"/activate"))},deactivateMakler:function(e){return b.post(he+"".concat(e,"/deactivate"))},getMaklerPointsById:function(e){return b.get(he+"".concat(e,"/points"))},saveMaklerPointsById:function(e,t){return b.post(he+"".concat(e,"/points"),t)}};var Oe={getAllRegions:function(){return b.get("/Regions/")}},xe=function(e){return!e||/[0-9]{4}$/.test(e.join(", "))};function ge(e){var t=e.onSubmit,n=e.btnText,r=e.preloadedData,c=(e.isNew,e.responseErrors),s=Object(a.useState)(),i=Object(o.a)(s,2),l=i[0],u=i[1];Object(a.useEffect)((function(){Oe.getAllRegions().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));u(t)}))}),[]);var d=[{fieldName:"firstName",placeholder:"Vorname",validation:{required:!0}},{fieldName:"lastName",placeholder:"Nachname",validation:{required:!0}},{fieldName:"companyName",placeholder:"Firmenname",validation:{required:!0}},{fieldName:"logo",placeholder:"Logo",type:"file"},{fieldName:"email",placeholder:"Email",validation:{required:!0,pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:"Email isn't valid!"}}},{fieldName:"phoneNumber",placeholder:"Telefonnummer",validation:{required:!0,pattern:{value:/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{3})/,message:"Phone number isn't valid! Try (123 456 789)"}},type:"number"},{fieldName:"regions",placeholder:"Bezirk",validation:{required:!0},type:"multiselect",options:l},{fieldName:"zipCodes",placeholder:"Postleitzahlen durch Kommas trennen",validation:{required:!0,validate:{checkPlzs:function(e){return xe(e)||"This isn't valid zip code!"}}},type:"textarray"},{fieldName:"responsibilityArea",placeholder:"Verantwortungsbereich",validation:{required:!0}},{fieldName:"price",placeholder:"Preis",validation:{required:!0}},{fieldName:"note",placeholder:"Notizen"}];return Object(p.jsx)(M,{preloadedData:r,btnText:n,submit:t,fields:d,responseErrors:c})}function ve(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(x.h)().id,d=Object(a.useState)({}),b=Object(o.a)(d,2),j=b[0],f=b[1],m=Object(x.f)();Object(a.useEffect)((function(){r(!0),l([]),pe.getMaklerById(u).then((function(e){return f(e.data)})).catch((function(e){e.response.data&&l(e.response.data)})).finally((function(){return r(!1)}))}),[u]);return n?Object(p.jsx)(O,{}):Object(p.jsx)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md",children:Object(p.jsx)(ge,{isNew:!1,onSubmit:function(e){r(!0),l([]),pe.updateMakler(u,e).then((function(){m.push("/brokers/".concat(u))})).catch((function(e){e.response.data&&l(e.response.data)})).finally((function(e){r(!1)}))},preloadedData:j,btnText:"Speichern",responseErrors:i})})}function Ne(e){var t=e.onSubmit,n=e.btnText,a=e.preloadedData,r=e.success,c=e.responseErrors;return Object(p.jsx)(M,{preloadedData:a,btnText:n,submit:t,fields:[{fieldName:"title",placeholder:"Titel",validation:{required:!0}},{fieldName:"message",placeholder:"Nachricht",validation:{required:!0},type:"textarea",cols:40,rows:10},{fieldName:"image",placeholder:"Bild",validation:{required:!0},type:"file"},{fieldName:"propertyType",placeholder:"Immobilienstyp",validation:{required:!0},type:"select",options:[{label:"Haus",value:0},{label:"Wohnung",value:1},{label:"Paket",value:2}]},{fieldName:"url",placeholder:"Link",validation:{required:!0}},{fieldName:"zipCode",placeholder:"Postleitzahlen durch Kommas trennen",validation:{required:!0,pattern:{value:/[0-9]{4}$/,message:"This isn't valid zip code!"}}}],success:r,responseErrors:c})}var ye="brokers",we="coworkers",ke="partners",Se="offerts",Ce="notes";function Pe(e){var t=e.onSubmit,n=e.btnText,a=e.preloadedData,r=(e.isNew,e.responseErrors),c=e.success;return Object(p.jsx)(M,{preloadedData:a,btnText:n,submit:t,fields:[{fieldName:"email",placeholder:"Email",validation:{required:!0}},{fieldName:"password",placeholder:"Passwort",validation:{required:!0,minLength:{value:2,message:"Passwort sollte mindestens 2 Zeichen lang sein"}},type:"password"},{fieldName:"canCustomers",placeholder:"Kann Benutzer anzeigen",type:"checkbox"},{fieldName:"canBrokers",placeholder:"Kann Makler anzeigen",type:"checkbox"},{fieldName:"canPartner",placeholder:"Kann Kooperationspartner anzeigen",type:"checkbox"},{fieldName:"canStatistics",placeholder:"Kann Statistiken anzeigen",type:"checkbox"},{fieldName:"canRanking",placeholder:"Kann Ranking anzeigen",type:"checkbox"},{fieldName:"canMessages",placeholder:"Kann Nachrichten anzeigen",type:"checkbox"},{fieldName:"canNotifications",placeholder:"Kann Benachrichtigungen anzeigen",type:"checkbox"}],responseErrors:r,success:c})}function Te(e){var t=e.onSubmit,n=e.btnText,r=e.preloadedData,c=(e.isNew,e.responseErrors),s=e.success,i=Object(a.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(a.useEffect)((function(){Oe.getAllRegions().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));d(t)}))}),[]);var b=[{fieldName:"firstName",placeholder:"Vorname",validation:{required:!0}},{fieldName:"lastName",placeholder:"Nachname",validation:{required:!0}},{fieldName:"companyName",placeholder:"Firmenname",validation:{required:!0}},{fieldName:"logo",placeholder:"Logo",validation:{required:!0},type:"file"},{fieldName:"email",placeholder:"Email",validation:{required:!0,pattern:{value:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:"Email isn't valid!"}}},{fieldName:"phoneNumber",placeholder:"Telefonnummer",validation:{required:!0,pattern:{value:/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{3})/,message:"Phone number isn't valid! Try (123 456 789)"}},type:"number"},{fieldName:"regions",placeholder:"Bezirk",validation:{required:!0},type:"multiselect",options:u},{fieldName:"zipCodes",placeholder:"Postleitzahlen durch Kommas trennen",validation:{required:!0,validate:{checkPlzs:function(e){return xe(e)||"This isn't valid zip code!"}}},type:"textarray"},{fieldName:"responsibilityArea",placeholder:"Verantwortungsbereich",validation:{required:!0}},{fieldName:"price",placeholder:"Preis",validation:{required:!0}},{fieldName:"note",placeholder:"Notizen"},{fieldName:"password",placeholder:"Passwort",validation:{required:!0,minLength:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/,message:"Password should be one a-z, A-Z, 1-9 and nonalphanumeric character"}},type:"password"}];return Object(p.jsx)(M,{preloadedData:r,btnText:n,submit:t,fields:b,responseErrors:c,success:s})}var Ee={getAllProfessions:function(){return b.get("/Professions/")}};function Be(e){var t=e.preloadedData,n=e.btnText,r=e.onSubmit,c=e.responseErrors,s=e.success,i=Object(a.useState)([]),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(a.useState)([]),j=Object(o.a)(b,2),f=j[0],m=j[1];Object(a.useEffect)((function(){Ee.getAllProfessions().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));d(t)}))}),[]),Object(a.useEffect)((function(){Oe.getAllRegions().then((function(e){var t=e.data.map((function(e){return{value:e.id,label:e.name}}));m(t)}))}),[]);var h=[{fieldName:"companyName",placeholder:"Firmenname",validation:{required:!0}},{fieldName:"logo",placeholder:"Logo",validation:{required:!0},type:"file"},{fieldName:"contactPerson",placeholder:"Ansprechpartner",validation:{required:!0}},{fieldName:"province",placeholder:"Bezirk",validation:{required:!0},type:"select",options:f},{fieldName:"address",placeholder:"Adresse",validation:{required:!0}},{fieldName:"zipCodes",placeholder:"Postleitzahlen durch Kommas trennen",validation:{required:!0,validate:{checkPlzs:function(e){return xe(e)||"This isn't valid zip code!"}}},type:"textarray"},{fieldName:"profession",placeholder:"Beruf",validation:{required:!0},type:"select",options:u},{fieldName:"price",placeholder:"Preis",validation:{required:!0},type:"number"},{fieldName:"durationFrom",placeholder:"Dauer von",validation:{required:!0},type:"date"},{fieldName:"durationTo",placeholder:"Dauer bis",validation:{required:!0},type:"date"},{fieldName:"phoneNumber",placeholder:"Telefonnummer",validation:{required:!0,pattern:{value:/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{3})/,message:"Phone number isn't valid! Try (123 456 789)"}},type:"number"},{fieldName:"websiteURL",placeholder:"Website-URL",validation:{required:!0}},{fieldName:"note",placeholder:"Notizen"}];return Object(p.jsx)(M,{preloadedData:t,btnText:n,submit:r,fields:h,responseErrors:c,success:s})}function Ae(e){var t=e.onSubmit,n=e.btnText,a=e.preloadedData,r=e.success,c=e.responseErrors;return Object(p.jsx)(M,{preloadedData:a,btnText:n,submit:t,fields:[{fieldName:"note",placeholder:"Notieren",type:"textarea",cols:40,rows:10}],success:r,responseErrors:c})}function ze(e){var t=e.name,n=e.onSubmit,a=e.responseErrors,r=e.success;return t==Ce?Object(p.jsx)(Ae,{btnText:"Speichern",onSubmit:n,responseErrors:a,success:r}):t==ye?Object(p.jsx)(Te,{btnText:"Addieren Makler",onSubmit:n,responseErrors:a,success:r}):t==ke?Object(p.jsx)(Be,{btnText:"Addieren Kooperationspartner",onSubmit:n,responseErrors:a,success:r}):t==we?Object(p.jsx)(Pe,{btnText:"Addieren Mitarbeiter",onSubmit:n,responseErrors:a,success:r}):Object(p.jsx)(Ne,{btnText:"Addieren Angebote",onSubmit:n,success:r,responseErrors:a})}function Re(e){var t=e.name,n=e.service,r=e.redirectAfterSubmit,c=void 0!==r&&r,s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(a.useState)([]),b=Object(o.a)(d,2),j=b[0],f=b[1],m=Object(a.useState)(!1),h=Object(o.a)(m,2),g=h[0],v=h[1],N=Object(a.useState)(!c),y=Object(o.a)(N,2),w=y[0],k=y[1],S=Object(x.f)();return Object(p.jsxs)(p.Fragment,{children:[l&&Object(p.jsx)(O,{}),!l&&Object(p.jsxs)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md relative",children:[Object(p.jsx)(ze,{name:t,onSubmit:function(e){u(!0),f([]),v(!1),n.add(e).then((function(){v(!0),w||S.push("/".concat(t))})).catch((function(e){v(!1),e.response&&f(e.response.data)})).finally((function(){return u(!1)}))},responseErrors:j,success:g}),Object(p.jsxs)("label",{className:"absolute flex items-center text-l mt-3 pb-6",children:[Object(p.jsx)("input",{value:w,onChange:function(){return k((function(e){return!e}))},type:"checkbox",className:"form-checkbox h-5 w-5 text-gray-600"}),Object(p.jsx)("span",{className:"ml-2 text-gray-700",children:"Add Another"})]})]})]})}function Me(){return Object(p.jsx)(Re,{name:ye,service:pe})}var Ie="/Partners/";var qe={getAllPartners:function(){return b.get(Ie)},add:function(e){var t=me(e);return b.post(Ie,t)},getPartnerById:function(e){return b.get(Ie+"".concat(e,"/"))},updatePartner:function(e,t){var n=me(t);return b.put(Ie+"".concat(e,"/"),n)},deletePartner:function(e){return b.delete(Ie+"".concat(e,"/"))}};function Ve(){return Object(p.jsx)(Re,{name:ke,service:qe})}function Ue(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(x.h)().id,d=Object(a.useState)(null),b=Object(o.a)(d,2),j=b[0],f=b[1],m=Object(x.f)();Object(a.useEffect)((function(){r(!0),l([]),qe.getPartnerById(u).then((function(e){return f(e.data)})).catch((function(e){e.response.data&&l(e.response.data)})).finally((function(){return r(!1)}))}),[u]);var h;return n?Object(p.jsx)(O,{}):Object(p.jsx)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md",children:j&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Be,{onSubmit:function(e){r(!0),l([]),e.price=null!=e.price?parseFloat(e.price):null,qe.updatePartner(u,e).then((function(){m.push("/partners/".concat(u))})).catch((function(e){l(e.response.data)})).finally((function(){return r(!1)}))},preloadedData:(h=j,Object.keys(h).forEach((function(e){return null===h[e]&&(h[e]=""),h})),h),btnText:"Speichern",responseErrors:i})})})}var De=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(0),d=Object(o.a)(u,2),j=d[0],f=d[1],m=Object(a.useState)(0),h=Object(o.a)(m,2),O=h[0],x=h[1],g=Object(a.useState)(!1),v=Object(o.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)(!1),k=Object(o.a)(w,2),S=k[0],C=k[1];if(Object(a.useEffect)((function(){y(!0),C(!1),b.get("regions/stats/").then((function(e){console.log(e),x(e.data.verifiedEstimationsNumber),f(e.data.estimationsNumber),l(e.data.contractsNumber),r(e.data.regionStats)})).catch((function(e){console.log(e),C(!0)})).finally((function(e){y(!1)}))}),[]),N)return Object(p.jsx)(K,{});if(S)return Object(p.jsx)(L,{});var P=Object(p.jsxs)("div",{className:"text-gray-800 border-gray-800 border-b py-1 px-2 mr-10 space-x-8",children:[Object(p.jsx)("span",{className:"text-sm font-semibold",children:"Sch\xe4tzungen:"})," ",j,"  ",Object(p.jsx)("span",{className:"text-sm font-semibold",children:"Best\xe4tigte Sch\xe4tzungen:"})," ",O,"  ",Object(p.jsx)("span",{className:"text-sm font-semibold",children:"Vertragsnummer:"})," ",i,"  "]});return Object(p.jsx)(de,{title:"Statistiken",preloadedData:n,aboveTableComponent:P,isReadOnly:!0,fieldsVisibleAtBeginning:["region","housesEstimated","apartmentEstimated","parcelEstimated","averagePropertyPrice","intentionToSell10","intentionToSell9"]})};var Fe=function(){return Object(p.jsx)(de,{title:"Rangfolge",url:"/brokers/stats",isReadOnly:!0,fieldsVisibleAtBeginning:["id","firstName","lastName","points","place","Estimations Number","Estimations Average"]})};var Le=function(){var e=Object(a.useState)(20),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(20),s=Object(o.a)(c,2),i=(s[0],s[1]),l=Object(a.useState)(1),u=Object(o.a)(l,2),d=(u[0],u[1]),j=Object(a.useState)([]),f=Object(o.a)(j,2),m=f[0],h=f[1],O=Object(a.useState)(!1),g=Object(o.a)(O,2),v=g[0],N=g[1],y=Object(a.useState)(!1),w=Object(o.a)(y,2),S=w[0],C=w[1],P=Object(a.useState)([]),T=Object(o.a)(P,2),E=T[0],B=T[1],A=Object(a.useState)(0),z=Object(o.a)(A,2),R=z[0],M=z[1],I=Object(x.h)(),q=Object(a.useState)(!1),V=Object(o.a)(q,2),U=V[0],D=V[1];Object(a.useEffect)((function(){N(!0),C(!1),b.get("/Users/".concat(I.id,"/chats")).then((function(e){void 0!=e.data[0]?(h(e.data[0].messages),i(e.data[0].count)):D(!0)})).catch((function(e){C(!0)})).finally((function(e){N(!1)}))}),[]);var F=Object(a.useCallback)((function(e){null!==e&&M(e.getBoundingClientRect().width)}));return v?Object(p.jsx)(K,{}):S?Object(p.jsx)(L,{}):U?Object(p.jsx)(H,{}):Object(p.jsx)("div",{ref:F,className:"p-6",children:Object(p.jsx)(oe,{data:m,header:"Messages",availableOptions:[10,15,20,40],setPageSize:r,pageSize:n,addOrdering:function(e){var t,n=Object(k.a)(E);if(e=e.replace(/([A-Z])/g,"_$1").toLowerCase(),n.includes(e)){var a=n.indexOf(e);n[a]="-".concat(e),t=le}else if(n.includes("-".concat(e))){var r=n.indexOf("-".concat(e));n.splice(r,1),t=ue}else n.push(e),t=ie;return B(n),d(1),t},title:"Messages",ordering:E,availableWidth:R,isCustomerPage:!0,maxNmbOfChars:1e3})})},Ke=function(){var e=Object(x.h)();return Object(p.jsx)(de,{title:"Immobilien",url:"/Customers/".concat(e.id,"/properties")})};var He={add:function(e){var t=me(e);return b.post("/offerts/",t)}};function We(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(a.useState)(!1),m=Object(o.a)(f,2),h=m[0],g=m[1],v=Object(a.useState)(!1),N=Object(o.a)(v,2),y=N[0],w=N[1],k=Object(a.useState)(!0),S=Object(o.a)(k,2),C=S[0],P=S[1],T=Object(x.f)();return Object(p.jsxs)(p.Fragment,{children:[n&&Object(p.jsx)(O,{}),!n&&Object(p.jsxs)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md relative",children:[Object(p.jsx)(ze,{name:Se,onSubmit:function(e){r(!0),l([]),j(!1),e.sholudBeSendToCustomers=C,He.add(e).then((function(){j(!0),h||T.push("/".concat(Se))})).catch((function(e){j(!1),e.response&&l(e.response.data)})).finally((function(){return r(!1)}))},responseErrors:i,success:b}),Object(p.jsx)("div",{className:"absolute flex items-center text-l mt-3 pb-6",children:Object(p.jsxs)("label",{className:"flex",children:[Object(p.jsx)("input",{value:h,onChange:function(){return g((function(e){return!e}))},type:"checkbox",className:"form-checkbox h-5 w-5 text-gray-600"}),Object(p.jsx)("span",{className:"ml-2 text-gray-700",children:"Neue hinzuf\xfcgen"})]})}),Object(p.jsxs)("div",{className:"absolute flex items-center text-l right-0 mt-3 pb-6",children:[Object(p.jsxs)("label",{className:"flex",children:[Object(p.jsx)("input",{className:"ml-2 mt-1",type:"radio",name:"Users",value:"USERS",checked:C,onChange:function(e){P(e),w(!1)}}),Object(p.jsx)("span",{className:"ml-2 text-gray-700",children:"Nutzer"})]}),Object(p.jsxs)("label",{className:"flex",children:[Object(p.jsx)("input",{className:"ml-5 mt-1",type:"radio",name:"Brokers",value:"BROKERS",checked:y,onChange:function(e){w(e),P(!1)}}),Object(p.jsx)("span",{className:"ml-2 text-gray-700",children:"Makler"})]})]})]})]})}function Ze(){return Object(p.jsx)(de,{title:"Mitarbeiter",url:"/coworkers"})}var $e="/coworkers";var Ge={getCoworkerById:function(e){return b.get("".concat($e,"/").concat(e,"/"))},deleteCoworker:function(e){return b.delete("".concat($e,"/").concat(e,"/"))},getAllCoworkers:function(){return b.get($e)},blockCoworker:function(e){return b.post("".concat($e,"/").concat(e,"/block"))},unblockCoworker:function(e){return b.post("".concat($e,"/").concat(e,"/unblock"))},getCoworkerChats:function(e){return b.get("".concat($e,"/").concat(e,"/chats"))},updateCoworker:function(e,t){return b.put("".concat($e,"/").concat(e,"/"),t)},add:function(e){return b.post("".concat($e,"/"),e)}},Ye=n(21);function _e(e){var t=e.onDelete,n=e.btnText,a=void 0===n?"L\xf6schen":n;return Object(p.jsxs)("button",{onClick:t,className:"py-1 px-3 rounded-md shadow-md bg-red-600 text-white flex items-center cursor-pointer hover:bg-red-500 transition-all focus:shadow-outline focus:outline-none",type:"submit",children:[Object(p.jsx)(V.a,{className:"mr-1"}),a]})}var Je=n(47);function Qe(e){var t=e.onBlock,n=e.btnText;return Object(p.jsxs)("button",{onClick:t,className:"ml-4 py-1 px-3 rounded-md shadow-md bg-yellow-600 text-white flex items-center cursor-pointer hover:bg-yellow-500 transition-all focus:shadow-outline focus:outline-none",type:"submit",children:[Object(p.jsx)(Je.a,{className:"mr-1"}),n]})}function Xe(e){var t=e.onActivate,n=e.btnText;return Object(p.jsxs)("button",{onClick:t,className:"py-1 px-3 rounded-md shadow-md bg-yellow-600 text-white flex items-center cursor-pointer hover:bg-yellow-500 transition-all focus:shadow-outline focus:outline-none ml-4",type:"submit",children:[Object(p.jsx)(V.b,{className:"mr-1"}),n]})}var et=function(e){var t=e.data,n=e.handleDelete,a=e.handleActivate,r=e.handleDeactivate,c=e.handleBlock,s=e.handleUnblock,o=e.isBlocked,i=e.isUser,l=e.canMessages,u=e.isBroker,d=Object(x.g)();return Object(p.jsx)(p.Fragment,{children:t?Object(p.jsxs)("div",{className:"bg-white rounded shadow-md flex flex-col border-gray-400 py-2 px-3 mt-6 m-6",children:[Object.keys(t).map((function(e){return Object(p.jsxs)("div",{className:"px-2 py-2 border-b-2 border-gray-200 flex",children:[Object(p.jsx)("div",{className:"font-bold w-1/6",children:se(v(e))}),Object(p.jsx)("div",{className:"w-5/6",children:X(t[e],!0)})]},e)})),Object(p.jsxs)("div",{className:"px-2 py-2 border-b-2 border-gray-200 flex",children:[Object(p.jsx)("div",{className:"font-bold w-1/6",children:"Aktionen"}),Object(p.jsxs)("div",{className:"flex items-center",children:[!i&&Object(p.jsxs)(U.b,{className:"bg-blue-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-blue-500 transition-all focus:shadow-outline focus:outline-none mr-4",to:"".concat(d.pathname,"/edit"),children:[Object(p.jsx)(re.c,{className:"text-md mr-2"}),"Bearbeiten"]}),Object(p.jsx)(_e,{onDelete:n}),u&&t.isActive&&Object(p.jsx)(Xe,{onActivate:r,btnText:"Deaktivieren"}),u&&!t.isActive&&Object(p.jsx)(Xe,{onActivate:a,btnText:"Aktivieren"}),!o&&Object(p.jsx)(Qe,{onBlock:c,btnText:"Blockiere"}),o&&Object(p.jsx)(Qe,{onBlock:s,btnText:"Entsperren"}),i&&l&&Object(p.jsxs)(U.b,{className:"bg-blue-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-blue-500 transition-all focus:shadow-outline focus:outline-none mx-4",to:"".concat(d.pathname,"/messages"),children:[Object(p.jsx)(Ye.c,{className:"text-md mr-2"}),"Mitteilungen"]}),i&&null!==t.zipCode&&Object(p.jsxs)(U.b,{className:"bg-purple-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-purple-500 transition-all focus:shadow-outline focus:outline-none mr-4",to:"".concat(d.pathname,"/property"),children:[Object(p.jsx)(Ye.b,{className:"text-md mr-2"}),"Immobilien"]}),u&&Object(p.jsxs)(U.b,{className:"bg-purple-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-purple-500 transition-all focus:shadow-outline focus:outline-none ml-4",to:"".concat(d.pathname,"/properties"),children:[Object(p.jsx)(re.b,{className:"text-md mr-2"}),"Immobilien"]}),u&&Object(p.jsxs)(U.b,{className:"bg-green-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-green-500 transition-all focus:shadow-outline focus:outline-none ml-4",to:"".concat(d.pathname,"/punkte"),children:[Object(p.jsx)(Ye.a,{className:"text-md mr-2"}),"Punkte"]}),i&&Object(p.jsxs)(U.b,{className:"bg-green-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-green-500 transition-all focus:shadow-outline focus:outline-none mr-4",to:"".concat(d.pathname,"/notes"),children:[Object(p.jsx)(re.a,{className:"text-md mr-2"}),"Anmerkungen"]})]})]})]}):Object(p.jsx)(K,{})})};function tt(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(x.f)(),m=Object(x.h)().id;Object(a.useEffect)((function(){Ge.getCoworkerById(m).then((function(e){return j(e.data)})).catch((function(e){404===e.response.status&&h(),l(!0)})).finally((function(e){r(!1)}))}),[m]);var h=function(){f.push("/coworkers")};return n?Object(p.jsx)(K,{}):i?Object(p.jsx)(L,{}):Object(p.jsx)(et,{data:b,handleDelete:function(){Ge.deleteCoworker(m).then((function(){h()}))},handleBlock:function(){Ge.blockCoworker(m).then((function(){h()}))},handleUnblock:function(){Ge.unblockCoworker(m).then((function(){h()}))},isBlocked:null===b||void 0===b?void 0:b.isBlocked})}function nt(e){var t=e.onSubmit,n=e.btnText,a=e.preloadedData,r=(e.isNew,e.responseErrors);return Object(p.jsx)(M,{preloadedData:a,btnText:n,submit:t,fields:[{fieldName:"email",placeholder:"Email",validation:{required:!0}},{fieldName:"canCustomers",placeholder:"Kann Benutzer anzeigen",type:"checkbox"},{fieldName:"canBrokers",placeholder:"Kann Makler anzeigen",type:"checkbox"},{fieldName:"canPartner",placeholder:"Kann Kooperationspartner anzeigen",type:"checkbox"},{fieldName:"canStatistics",placeholder:"Kann Statistiken anzeigen",type:"checkbox"},{fieldName:"canRanking",placeholder:"Kann Ranking anzeigen",type:"checkbox"},{fieldName:"canMessages",placeholder:"Kann Nachrichten anzeigen",type:"checkbox"},{fieldName:"canNotifications",placeholder:"Kann Benachrichtigungen anzeigen",type:"checkbox"}],responseErrors:r})}function at(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(x.h)().id,d=Object(a.useState)(),b=Object(o.a)(d,2),j=b[0],f=b[1],m=Object(x.f)();Object(a.useEffect)((function(){r(!0),l([]),Ge.getCoworkerById(u).then((function(e){return f(e.data)})).catch((function(e){e.response&&404!==e.response.status||m.push("/coworkers")})).finally((function(e){r(!1)}))}),[u]);return n?Object(p.jsx)(O,{}):Object(p.jsx)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md",children:Object(p.jsx)(nt,{isNew:!1,onSubmit:function(e){r(!0),l([]),Ge.updateCoworker(u,e).then((function(){m.push("/coworkers/".concat(u))})).catch((function(e){l(e.response.data)}))},preloadedData:j,btnText:"Speichern",responseErrors:i})})}var rt="/Customers";var ct={getCurrentUser:function(){return b.get("".concat(rt,"/current"))},getUserById:function(e){return b.get("".concat(rt,"/").concat(e,"/"))},deleteUser:function(e){return b.delete("".concat(rt,"/").concat(e,"/"))},getAllUsers:function(){return b.get("".concat(rt,"/"))},blockUser:function(e){return b.post("/Users/".concat(e,"/block"))},unblockUser:function(e){return b.post("/Users/".concat(e,"/unblock"))},getUserChats:function(e){return b.get("/Users/".concat(e,"/chats"))},updateUserNotes:function(e,t){return b.patch("Users/".concat(e,"/"),{note:t})}},st=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(x.f)(),m=Object(x.h)().id,O=Object(a.useState)(),g=Object(o.a)(O,2),v=g[0],N=g[1];Object(a.useEffect)((function(){ct.getUserById(m).then((function(e){return j(e.data)})).catch((function(e){404===e.response.status&&f.push("/customers"),l(!0)})),h.getCurrentUser().then((function(e){return N(e.data.isAdmin||e.data.canMessages)})).catch((function(e){404===e.response.status&&f.push("/customers"),l(!0)})).finally((function(e){r(!1)}))}),[m]);return n?Object(p.jsx)(K,{}):i?Object(p.jsx)(L,{}):Object(p.jsx)(et,{data:b,canMessages:v,isUser:"isUser",handleDelete:function(){ct.deleteUser(m).then((function(){f.push("/customers")}))},handleBlock:function(){ct.blockUser(m).then((function(){f.push("/customers")}))},handleUnblock:function(){ct.unblockUser(m).then((function(){f.push("/customers")}))},isBlocked:null===b||void 0===b?void 0:b.isBlocked})},ot=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(x.f)(),m=Object(x.h)().id;Object(a.useEffect)((function(){r(!0),l(!1),pe.getMaklerById(m).then((function(e){j(h(e.data))})).catch((function(e){e.response&&404!==e.response.status||f.push("/brokers"),l(!0)})).finally((function(e){r(!1)}))}),[m]);var h=function(e){return e.regions=e.regions?e.regions.map((function(e){return e.name})).join(", "):"",delete e.regionsPlaces,e.zipCodes=e.zipCodes?e.zipCodes.join(", "):"",null!=e&&null!=e.districts&&e.districts.length>0&&(e.districts=e.districts.map((function(e){return e.name})).join(", ")),e};return n?Object(p.jsx)(K,{}):i?Object(p.jsx)(L,{}):Object(p.jsx)(et,{data:b,handleDelete:function(){pe.deleteMakler(m).then((function(){f.push("/brokers")}))},handleActivate:function(){pe.activateMakler(m).then((function(){f.push("/brokers")}))},handleDeactivate:function(){pe.deactivateMakler(m).then((function(){f.push("/brokers")}))},handleBlock:function(){pe.blockMakler(m).then((function(){f.push("/brokers")}))},handleUnblock:function(){pe.unblockMakler(m).then((function(){f.push("/brokers")}))},isActive:null===b||void 0===b?void 0:b.isActive,isBlocked:null===b||void 0===b?void 0:b.isBlocked,isBroker:!0})},it=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(x.f)(),m=Object(x.h)().id;Object(a.useEffect)((function(){qe.getPartnerById(m).then((function(e){return j(e.data)})).catch((function(e){404===e.response.status&&f.push("/partners"),l(!0)})).finally((function(e){r(!1)}))}),[m]);return n?Object(p.jsx)(K,{}):i?Object(p.jsx)(L,{}):Object(p.jsx)(et,{data:b,handleDelete:function(){qe.deletePartner(m),f.push("/partners")}})};function lt(){return Object(p.jsx)(Re,{name:we,service:Ge})}n(93);function ut(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)({}),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(x.f)(),m=Object(x.h)().id;Object(a.useEffect)((function(){r(!0),ct.getUserById(m).then((function(e){j(e.data)})).catch((function(e){e.response.data&&l(e.response.data)})).finally((function(){return r(!1)}))}),[m]);return Object(p.jsxs)(p.Fragment,{children:[n&&Object(p.jsx)(O,{}),!n&&Object(p.jsx)("div",{className:"m-6 bg-white border-gray-400 rounded shadow-md relative",children:Object(p.jsx)(Ae,{onSubmit:function(e){r(!0),l([]),ct.updateUserNotes(m,e.note).then((function(){f.push("/users/".concat(m))})).catch((function(e){e.response.data&&l(e.response.data)})).finally((function(e){r(!1)}))},isNew:!1,preloadedData:b,btnText:"Speichern",responseErrors:i})})]})}var dt=function(){var e=Object(x.h)();return Object(p.jsx)(de,{title:"Immobilien",url:"/Brokers/admin/".concat(e.id,"/properties")})},bt=function(e){var t=e.setIsPopUpVisible,n=e.newPoint,a=e.setNewPoint,r=e.districtName,c=e.saveChange;return Object(p.jsx)("div",{className:"absolute top-1/3 ",children:Object(p.jsxs)("div",{className:"w-72 h-64 shadow-inner  bg-white",children:[Object(p.jsx)("div",{className:"flex justify-end",children:Object(p.jsx)("div",{className:"p-1",children:Object(p.jsx)("button",{onClick:function(){t(!1)},children:Object(p.jsx)(Ye.d,{className:"w-6 h-6"})})})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"font-bold w-full text-center",children:r}),Object(p.jsx)("div",{className:"h-32 flex items-center justify-center",children:Object(p.jsxs)("div",{className:"w-40 border-b-2 border-black text-center",children:[Object(p.jsx)("p",{children:"PKT"}),Object(p.jsx)("input",{type:"number",placeholder:"Eingeben PKT",className:"bg-transparent text-center w-7/8",defaultValue:n,onChange:function(e){a(e.target.value)}})]})})]}),Object(p.jsx)("div",{className:"text-center mt-1",children:Object(p.jsx)("button",{onClick:c,className:"shadow bg-blue-accent cursor-pointer hover:bg-blue-hover \r focus:shadow-outline focus:outline-none text-white font-bold py-1 mb-1 px-3 rounded mx-auto",children:"Speichern"})})]})})},jt=function(e){var t=e.headerText,n=e.items;return Object(p.jsxs)("div",{class:"flex flex-col text-center",children:[Object(p.jsx)("div",{className:"font-bold",children:t}),Object(p.jsx)("div",{children:n&&n.map((function(e){return void 0!==e&&Object(p.jsx)("div",{className:"w-full mt-2",children:e})}))})]})},ft=function(){var e=Object(x.h)().id,t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(a.useState)(),b=Object(o.a)(d,2),j=b[0],f=b[1],m=Object(a.useState)(),h=Object(o.a)(m,2),O=h[0],g=h[1];Object(a.useEffect)((function(){l||pe.getMaklerPointsById(e).then((function(e){c(e.data)}))}),[e,l]);return Object(p.jsxs)("div",{className:"p-6",children:[Object(p.jsx)(ce,{header:"Punkte"}),Object(p.jsx)("div",{className:"bg-white rounded shadow-md w-full flex flex-col border-gray-400 py-2 px-3 mt-6",children:Object(p.jsxs)("div",{className:"mt-8 flex justify-around items-stretch w-full",children:[r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(jt,{headerText:"District",items:r.map((function(e){return e.district&&e.district.name}))}),Object(p.jsx)(jt,{headerText:"Points",items:r.map((function(e){return e.points}))}),Object(p.jsx)(jt,{headerText:"Edit",items:r.map((function(e){return Object(p.jsx)("button",{onClick:function(){u(!0),g(e.district),f(e.points)},children:Object(p.jsx)(re.d,{})})}))})]}):Object(p.jsx)("div",{children:"Loading"}),!0===l?Object(p.jsx)(bt,{setIsPopUpVisible:u,newPoint:j,districtName:O.name,setNewPoint:f,saveChange:function(){pe.saveMaklerPointsById(e,{points:Number(j),districtId:O.id}).then((function(){return u(!1)})).catch((function(e){alert(e)}))}}):""]})})]})};var mt=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(a.useState)(!1),m=Object(o.a)(f,2),O=m[0],g=m[1],v=Object(a.useState)(!1),N=Object(o.a)(v,2),y=N[0],w=N[1],k=Object(a.useState)(!1),S=Object(o.a)(k,2),C=S[0],P=S[1],T=Object(a.useState)(!1),E=Object(o.a)(T,2),B=E[0],A=E[1],z=Object(a.useState)(!1),R=Object(o.a)(z,2),M=R[0],I=R[1];Object(a.useEffect)((function(){h.getCurrentUser().then((function(e){P(q("canBrokers",e.data)),l(q("canCoworkers",e.data)),j(q("canStatistics",e.data)),g(q("canRanking",e.data)),w(q("canPartners",e.data)),A(q("canCustomers",e.data)),r(q("canNotifications",e.data)),I(q("canMessages",e.data))}))}),[]);var q=function(e,t){return t.isAdmin||t[e]};return Object(p.jsxs)("div",{className:"bg-gray-200 h-screen w-full px-0 mx-0 flex",children:[Object(p.jsx)(F,{}),Object(p.jsx)("div",{className:"bg-gray-200 margin-left w-full relative w-90per",children:Object(p.jsxs)(x.c,{children:[B&&Object(p.jsx)(x.a,{exact:!0,path:"/customers/:id",component:st}),B&&Object(p.jsx)(x.a,{exact:!0,path:"/customers",component:be}),B&&M&&Object(p.jsx)(x.a,{exact:!0,path:"/customers/:id/messages",component:Le}),B&&Object(p.jsx)(x.a,{exact:!0,path:"/customers/:id/property",component:Ke}),B&&Object(p.jsx)(x.a,{exact:!0,path:"/customers/:id/notes",component:ut}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers/add",component:Me}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers/:id/edit",component:ve}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers/:id",component:ot}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers/:id/punkte",component:ft}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers",component:je}),C&&Object(p.jsx)(x.a,{exact:!0,path:"/brokers/:id/properties",component:dt}),i&&Object(p.jsx)(x.a,{exact:!0,path:"/coworkers/add",component:lt}),i&&Object(p.jsx)(x.a,{exact:!0,path:"/coworkers/:id/edit",component:at}),i&&Object(p.jsx)(x.a,{exact:!0,path:"/coworkers/:id",component:tt}),i&&Object(p.jsx)(x.a,{exact:!0,path:"/coworkers",component:Ze}),y&&Object(p.jsx)(x.a,{exact:!0,path:"/partners/add",component:Ve}),y&&Object(p.jsx)(x.a,{exact:!0,path:"/partners/:id/edit",component:Ue}),y&&Object(p.jsx)(x.a,{exact:!0,path:"/partners/:id",component:it}),y&&Object(p.jsx)(x.a,{exact:!0,path:"/partners",component:fe}),O&&Object(p.jsx)(x.a,{exact:!0,path:"/ranking",component:Fe}),b&&Object(p.jsx)(x.a,{exact:!0,path:"/statistics",component:De}),n&&Object(p.jsx)(x.a,{exact:!0,path:"/offerts",component:We}),B&&Object(p.jsx)(x.a,{exact:!0,path:"/",component:be})]})})]})};var ht=function(){var e=Object(a.useState)(h.tokenValue),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){h.setAccessTokenFromLocalStorage(),h.currentToken.subscribe(r)}),[]);var c=function(){return""!==n};return Object(p.jsxs)(p.Fragment,{children:[!c()&&Object(p.jsx)(x.c,{children:Object(p.jsx)(x.a,{path:"/",component:q})}),c()&&Object(p.jsx)(x.c,{children:Object(p.jsx)(x.a,{path:"/",component:mt})})]})},pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(U.a,{children:Object(p.jsx)(ht,{})})}),document.getElementById("root")),pt()}},[[94,1,2]]]);
//# sourceMappingURL=main.8a05cadb.chunk.js.map