{"version":3,"sources":["utilis/jwtRequest.js","service/authService.js","components/spinners/BSpinner.js","utilis/capitalizeFieldHeader.js","components/forms/BFormField.js","hooks/usePlacesSearch.js","components/inputs/BCustomDropdownInput.js","components/inputs/BSelectInput.js","components/inputs/BDateFormInput.js","components/inputs/BCheckboxInput.js","components/inputs/BTextArrayInput.js","components/inputs/BFileInput.js","components/forms/BTextareaField.js","components/forms/BFormFieldWrapper.js","components/forms/BForm.js","forms/LoginForm.js","pages/LoginPage/LoginPage.js","pages/SideBar/SideBarLink.js","pages/SideBar/SideBar.js","components/indicators/BErrorIndicator.js","components/indicators/BLoadingIndicator.js","components/indicators/BNoDataIndicator.js","utilis/formatFields.js","components/tables/BTableCell.js","components/tables/BTableCellWithLink.js","components/renderers/BTableRenderer.js","components/tables/BTableDropdown.js","components/tables/BTableHeader.js","utilis/translateFieldHeader.js","components/tables/BTable.js","components/constants/componentsConstants.js","components/resources/BResourcePage.js","pages/CRUDPages/UsersPage/UsersPage.js","pages/CRUDPages/MaklersPage/MaklersPage.js","pages/CRUDPages/PartnersPage/PartnersPage.js","utilis/formDataHelper.js","service/maklersService.js","service/regionsService.js","utilis/plzsValidation.js","forms/EditMaklersForm.js","pages/CRUDPages/MaklersPage/MaklersEditPage.js","pages/OffertsPage/OffertsForm.js","utilis/entitiesNames.js","forms/CoworkerForm.js","forms/MaklersForm.js","service/professionsService.js","forms/PartnersForm.js","pages/NotesPage/NotesForm.js","forms/BFormWrapper.js","components/crud/BAddPage.js","pages/CRUDPages/MaklersPage/MaklersAddPage.js","service/partnersService.js","pages/CRUDPages/PartnersPage/PartnersAddPage.js","pages/CRUDPages/PartnersPage/PartnersEditPage.js","pages/ReadOnlyPages/StatisticsPage.js","pages/ReadOnlyPages/RankingPage.js","pages/CRUDPages/UsersPage/UserMessagesPage.js","pages/CRUDPages/UsersPage/UserPropertyPage.js","service/offertsService.js","pages/OffertsPage/OffertsPage.js","pages/CRUDPages/CoworkersPage/CoworkersPage.js","service/coworkersService.js","components/buttons/BDeleteButton.js","components/buttons/BBlockButton.js","components/buttons/BActivateButton.js","components/crud/BDetailsPage.js","pages/CRUDPages/CoworkersPage/CoworkersDetails.js","forms/EditCoworkerForm.js","pages/CRUDPages/CoworkersPage/CoworkersEditPage.js","service/usersService.js","pages/CRUDPages/UsersPage/UsersDetails.js","pages/CRUDPages/MaklersPage/MaklersDetails.js","pages/CRUDPages/PartnersPage/PartnersDetails.js","pages/CRUDPages/CoworkersPage/CoworkerAddPage.js","pages/NotesPage/UserNotesPage.js","pages/CRUDPages/MaklersPage/MaklerPropertyPage.js","pages/CRUDPages/UsersPage/UserPunktePage/UserPunktePoPup.js","pages/CRUDPages/UsersPage/UserPunktePage/UserPunktePage.js","pages/HomePage/HomePage.js","App.js","reportWebVitals.js","index.js"],"names":["httpClient","axios","create","baseURL","interceptors","request","use","config","headers","Authorization","authService","tokenValue","accessToken","BehaviorSubject","ACCESS_TOKEN_KEY","setAccessToken","token","next","login","data","post","then","res","localStorage","setItem","logout","removeItem","setAccessTokenFromLocalStorage","tokenFromLocalStorage","getItem","currentToken","asObservable","value","getCurrentUser","get","user","isCoworker","id","BSpinner","className","capitalizeFieldHeader","field","words","split","join","charAt","toUpperCase","slice","BFormField","fieldName","placeholder","register","validation","type","step","useItemsFetch","itemsUrl","query","page","filterBy","useState","loading","setLoading","options","setOptions","hasMore","setHasMore","useEffect","cancel","URL","cancelToken","CancelToken","c","prevPlaces","results","map","item","label","catch","error","isCancel","BCustomDropdownInput","control","setQuery","setPage","selectValue","setSelectValue","getPreloadedDataFromControl","setNextPage","prevPage","defaultValuesRef","current","loadedData","dataFromOptions","find","o","name","render","onChange","e","handleInputChange","isLoading","onInputChange","handleSearch","onMenuScrollToBottom","loadingMessage","noOptionsMessage","rules","required","BFormSelectInput","multi","inputRef","useRef","filter","some","s","el","ref","isMulti","replace","toLowerCase","BDateFormInput","dateFormat","isDateFormatWithoutHours","date","Date","target","toISOString","BCheckboxInput","BFileInput","btnText","availbaleSizeInMB","availableExtensions","imageSrc","setImageSrc","imageInput","isExtensionAllowed","fileExtension","ex","includes","alt","width","height","src","fileFromInput","files","size","createObjectURL","alert","handleFileInputChange","accept","onClick","click","BTextareaField","cols","rows","BFormFieldWrapper","fieldToReturn","errors","errorMessage","message","formatError","BForm","preloadedData","fields","submit","scroll","clearFormAfterSubmit","responseErrors","success","useForm","defaultValues","handleSubmit","formState","reset","onSubmit","f","index","LoginForm","minLength","LoginPage","setErrors","history","useHistory","formData","push","response","finally","length","SideBarLink","optionName","route","to","data-toggle","aria-expanded","SideBar","canNotifications","setCanNotifications","canCoworkers","setCanCoworkers","canStatistics","setCanStatistics","canRanking","setCanRanking","canPartners","setCanPartners","canBrokers","setCanBrokers","canCustomers","setCanCustomers","isAllowed","permission","isAdmin","BErrorIndicator","BLoadingIndicator","emailRegex","isoDateRegex","formatBoolean","formatString","extend","maxNmbOfChars","String","startsWith","href","rel","visibleValue","substring","test","match","toLocaleString","formatObject","console","log","Array","isArray","url","idx","Object","keys","key","formatField","BTableCell","isReadOnly","cell","maxChars","getCellProps","BTableCellWithLink","BTableRendrer","spacePerColumn","columns","addOrdering","title","ordering","defaultColumn","useMemo","columnsWidths","minWidth","maxWidth","useTable","useBlockLayout","useResizeColumns","getTableProps","getTableBodyProps","headerGroups","prepareRow","headerGroup","getHeaderGroupProps","column","getHeaderProps","color","getResizerProps","isResizing","row","i","getRowProps","cells","phrase","original","BTableDropdown","onToggleField","visibleFields","toggler","setToggler","onMouseEnter","onMouseLeave","Header","BTableHeader","header","translateFieldHeader","BTable","availableWidth","isCustomerPage","aboveTableComponent","fieldsVisibleAtBeginning","setFields","setVisibleFields","tempFields","tempVisibleFields","entries","fieldPair","accessor","colSpace","computeColumnSpace","val","ORDER_WAY","BResourcePage","pageSize","setPageSize","setNmbOfRecords","resources","setResources","setIsLoading","setError","setOrdering","setAvailableWidth","noData","count","err","_","child","useCallback","node","getBoundingClientRect","BNoDataIndicator","availableOptions","orderState","tempOrdering","indexOf","splice","UsersPage","MaklersPage","PartnersPage","createFormData","formValues","objectKeys","FormData","forEach","append","MAKLERS_URL","maklersService","getAllMaklers","add","newBroker","getMaklerById","updateMakler","put","deleteMakler","delete","blockMakler","unblockMakler","activateMakler","deactivateMakler","getMaklerPointsById","saveMaklerPointsById","regionsService","getAllRegions","validatePlzs","plzs","EditMaklersForm","isNew","provinces","setProvinces","pattern","validate","checkPlzs","v","MaklersEditPage","setResponseErrors","useParams","broker","setBroker","OffertsForm","entities","CoworkerForm","MaklersForm","regions","setRegions","professionsService","getAllProfessions","PartnersForm","professions","setProfessions","NotesForm","BFormWrapper","BAddPage","service","redirectAfterSubmit","setSuccess","addAnother","setAddAnother","prev","MaklersAddPage","PARTNERS_URL","partnersService","getAllPartners","newPartner","getPartnerById","updatePartner","deletePartner","PartnersAddPage","PartnersEditPage","setResponseError","partner","setPartner","obj","price","parseFloat","StatisticsPage","provincesStats","setProvincesStats","contractsNumber","setContractsNumber","estimationsNumber","setEstimationsNumber","verifiedEstimationsNumber","setVerifiedEstimationsNumber","regionStats","RankingPage","UserMessagesPage","params","noRecords","setNoRecords","undefined","messages","UserPropertyPage","offertsService","offertData","OffersPage","sendBrokers","setSendBrokers","sendUsers","setSendUsers","sholudBeSendToCustomers","checked","CoworkersPage","COWORKERS_URL","coworkersService","getCoworkerById","deleteCoworker","getAllCoworkers","blockCoworker","unblockCoworker","getCoworkerChats","updateCoworker","newCoworker","BDeleteButton","onDelete","BBlockButton","onBlock","BActivateButton","onActivate","BDetailsPage","handleDelete","handleActivate","handleDeactivate","handleBlock","handleUnblock","isBlocked","isUser","canMessages","isBroker","location","useLocation","k","pathname","isActive","zipCode","CoworkersDetails","coworker","setCoworker","status","pushBack","EditCoworkerForm","CoworkersEditPage","USERS_URL","usersService","getUserById","deleteUser","getAllUsers","blockUser","unblockUser","getUserChats","updateUserNotes","note","patch","UsersDetails","setUser","setCanMessages","MaklersDetails","makler","setMakler","parseBrokerObjectsToStrings","regionsPlaces","zipCodes","districts","x","PartnersDetails","CoworkerAddPage","UserNotesPage","MaklerPropertiesPage","UserPunktePoPup","setIsPopUpVisible","newPoint","setNewPoint","districtName","saveChange","defaultValue","PointsTableColumn","headerText","items","class","UserPunktePage","points","setPoints","isPopUpVisible","newDistrict","setNewDistrict","district","Number","districtId","HomePage","exact","path","component","OffertsPage","App","tokenState","setTokenState","subscribe","isLoggedIn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a05cadb.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { authService } from \"../service/authService\";\r\n\r\nconst httpClient = axios.create({\r\n  baseURL: \"http://5.189.167.37:5000/api/\",\r\n});\r\n\r\nhttpClient.interceptors.request.use(function (config) {\r\n  config.headers.Authorization = `Bearer ${authService.tokenValue}`;\r\n  return config;\r\n});\r\n\r\n// httpClient.interceptors.response.use(null, (error) => {\r\n//   if (error.config && error.response && error.response.status === 401) {\r\n//     authService.refreshAccessToken().then((res) => {\r\n//       error.config.headers.Authorization = `Bearer ${authService.tokenValue}`;\r\n//       return axios.request(error.config);\r\n//     });\r\n//   }\r\n//   return Promise.reject(error);\r\n// });\r\n\r\nexport default httpClient;\r\n","import { BehaviorSubject } from \"rxjs\";\r\nimport httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst accessToken = new BehaviorSubject(\"\");\r\nconst ACCESS_TOKEN_KEY = \"accessToken\";\r\n\r\nconst login = (data) => {\r\n  return httpClient.post(\"account/auth\", data).then((res) => {\r\n    accessToken.next(res.data.token);\r\n    localStorage.setItem(ACCESS_TOKEN_KEY, res.data.token);\r\n  });\r\n};\r\n\r\nfunction getCurrentUser() {\r\n  return httpClient.get(\"users/current\").then((res) => {\r\n    const user = res.data;\r\n    if (user.isCoworker) {\r\n      return httpClient\r\n        .get(`coworkers/${user.id}`)\r\n    }\r\n    return res;\r\n  });\r\n}\r\n\r\nconst logout = () => {\r\n  accessToken.next(\"\");\r\n  localStorage.removeItem(ACCESS_TOKEN_KEY);\r\n};\r\n\r\nconst setAccessTokenFromLocalStorage = () => {\r\n  const tokenFromLocalStorage = localStorage.getItem(ACCESS_TOKEN_KEY);\r\n  if (tokenFromLocalStorage) {\r\n    setAccessToken(tokenFromLocalStorage);\r\n  }\r\n};\r\n\r\nconst setAccessToken = (token) => {\r\n  accessToken.next(token);\r\n};\r\n\r\nexport const authService = {\r\n  login,\r\n  logout,\r\n  setAccessTokenFromLocalStorage,\r\n  currentToken: accessToken.asObservable(),\r\n  get tokenValue() {\r\n    return accessToken.value;\r\n  },\r\n  getCurrentUser,\r\n};\r\n","import \"./BSpinner.css\";\r\n\r\nfunction BSpinner() {\r\n  return (\r\n    <div className=\"spinner-body\">\r\n      <div id=\"spinner\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BSpinner;\r\n","const capitalizeFieldHeader = (field) => {\r\n  //seperate words of header form add set them to uppercase\r\n  let words = field.split(/(?=[A-Z])/);\r\n  words = words.join(\" \");\r\n  words = words.charAt(0).toUpperCase() + words.slice(1);\r\n  return words;\r\n};\r\n\r\nexport default capitalizeFieldHeader;\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport default function BFormField({\r\n  fieldName,\r\n  placeholder,\r\n  register,\r\n  validation,\r\n  type = \"text\",\r\n  step = \"1\",\r\n}) {\r\n  return (\r\n    <div>\r\n      <input\r\n        className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n        type={type}\r\n        placeholder={placeholder}\r\n        step={step}\r\n        {...register(fieldName, { ...validation })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nBFormField.propTypes = {\r\n  fieldName: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  validation: PropTypes.object,\r\n  type: PropTypes.string,\r\n  register: PropTypes.func.isRequired,\r\n};\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport httpClient from \"../utilis/jwtRequest\";\r\n\r\nexport default function useItemsFetch(itemsUrl, query, page, filterBy) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState([]);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  const getOptionsFromResult = (items) => {\r\n    return items.map((item) => ({ label: item[filterBy], value: item.id }));\r\n  };\r\n  const createRequestURL = () => {\r\n    return `${itemsUrl}?page=${page}&${filterBy}=${query}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setOptions([]);\r\n    setHasMore(true);\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    if (!hasMore) return;\r\n\r\n    setLoading(true);\r\n\r\n    let cancel;\r\n\r\n    const URL = createRequestURL();\r\n\r\n    httpClient\r\n      .get(URL, {\r\n        cancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n      })\r\n      .then((res) => {\r\n        setOptions((prevPlaces) => [\r\n          ...prevPlaces,\r\n          ...getOptionsFromResult(res.data.results),\r\n        ]);\r\n        setHasMore(res.data.next !== null);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        if (axios.isCancel(error)) {\r\n          return;\r\n        }\r\n      });\r\n\r\n    return () => cancel();\r\n  }, [query, page, hasMore]);\r\n\r\n  return { loading, options, hasMore };\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport Select from \"react-select\";\r\nimport useItemsFetch from \"../../hooks/usePlacesSearch\";\r\nimport BSpinner from \"../spinners/BSpinner\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BCustomDropdownInput({\r\n  filterBy,\r\n  itemsUrl,\r\n  placeholder,\r\n  fieldName,\r\n  control,\r\n}) {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [selectValue, setSelectValue] = useState({});\r\n\r\n  const { loading, options, hasMore } = useItemsFetch(\r\n    itemsUrl,\r\n    query,\r\n    page,\r\n    filterBy\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSelectValue(getPreloadedDataFromControl());\r\n  }, [options]);\r\n\r\n  const handleSearch = (query) => {\r\n    setQuery(query);\r\n    setPage(1);\r\n  };\r\n\r\n  const setNextPage = () => {\r\n    if (hasMore) {\r\n      setPage((prevPage) => prevPage + 1);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    if (e == null) {\r\n      return null;\r\n    }\r\n\r\n    setSelectValue(e);\r\n    return e.value;\r\n  };\r\n\r\n  const getPreloadedDataFromControl = () => {\r\n    if (\r\n      !options ||\r\n      !control.defaultValuesRef ||\r\n      !control.defaultValuesRef.current[`${fieldName}`]\r\n    ) {\r\n      return;\r\n    }\r\n    \r\n    const loadedData = control.defaultValuesRef.current[`${fieldName}`];\r\n\r\n    const dataFromOptions = options.find((o) => o.value === loadedData);\r\n\r\n    if (!dataFromOptions) {\r\n      setNextPage();\r\n      return;\r\n    }\r\n\r\n    return dataFromOptions;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Controller\r\n        control={control}\r\n        name={fieldName}\r\n        render={({ field: { onChange } }) => (\r\n          <Select\r\n            onChange={(e) => onChange(handleInputChange(e))}\r\n            isLoading={loading}\r\n            onInputChange={(e) => handleSearch(e)}\r\n            placeholder={placeholder}\r\n            options={options}\r\n            onMenuScrollToBottom={setNextPage}\r\n            loadingMessage={() => <BSpinner />}\r\n            noOptionsMessage={() =>\r\n              `No one ${fieldName} match to serach phrase.`\r\n            }\r\n            value={selectValue}\r\n          />\r\n        )}\r\n        rules={{ required: true }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nBCustomDropdownInput.propTypes = {\r\n  fieldName: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  control: PropTypes.object.isRequired,\r\n  itemsUrl: PropTypes.string.isRequired,\r\n  filterBy: PropTypes.string.isRequired,\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport Select from \"react-select\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BFormSelectInput({\r\n  placeholder,\r\n  fieldName,\r\n  control,\r\n  options,\r\n  multi\r\n}) {\r\n  const [selectValue, setSelectValue] = useState({});\r\n  const inputRef = useRef();\r\n  useEffect(() => {\r\n    inputRef.current.onChange(getPreloadedDataFromControl());\r\n  }, [setSelectValue, options]);\r\n\r\n  const handleInputChange = (e) => {\r\n    if (e == null) {\r\n      return null;\r\n    }\r\n    if(multi){\r\n      setSelectValue(e);\r\n      return e.map((el) => el.value);\r\n    }\r\n    else{\r\n      setSelectValue(e);\r\n      return e.value;\r\n    }\r\n    \r\n  };\r\n  const getPreloadedDataFromControl = () => {\r\n    if(!options) return;\r\n    if(multi)\r\n      return control.defaultValuesRef &&\r\n        control.defaultValuesRef.current[`${fieldName}`]\r\n        ? options.filter(\r\n            (o) => control.defaultValuesRef.current[`${fieldName}`].some(s => s.name === o.label)\r\n          )\r\n        : [];\r\n    else\r\n      return control.defaultValuesRef &&\r\n        control.defaultValuesRef.current[`${fieldName}`]\r\n        ? options.find(\r\n            (o) => o.label === control.defaultValuesRef.current[`${fieldName}`]\r\n          )\r\n        : \"\";\r\n  };\r\n\r\n  const splitFieldName = () => {\r\n    const result = fieldName.replace(/([A-Z])/g, \" $1\");\r\n    return result.toLowerCase();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Controller\r\n        control={control}\r\n        name={fieldName}\r\n        rules={{ required: true }}\r\n        render={({ field: { onChange } }) => (\r\n          <Select\r\n            onChange={(e) => onChange(handleInputChange(e))}\r\n            placeholder={placeholder}\r\n            options={options}\r\n            ref={inputRef}\r\n            isMulti={multi}\r\n            value={selectValue}\r\n            noOptionsMessage={() =>\r\n              `No one ${splitFieldName()} match to serach phrase.`\r\n            }\r\n          />\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nBFormSelectInput.propTypes = {\r\n  placeholder: PropTypes.string,\r\n  fieldName: PropTypes.string.isRequired,\r\n  control: PropTypes.object.isRequired,\r\n  options: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      label: PropTypes.string.isRequired,\r\n      value: PropTypes.isRequired,\r\n    })\r\n  ),\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BDateFormInput({ placeholder, fieldName, control, dateFormat }) {\r\n  const [selectValue, setSelectValue] = useState({});\r\n  const isDateFormatWithoutHours = dateFormat == 'YYYY-MM-DD';\r\n\r\n  const handleInputChange = (e) => {\r\n    if (e == null) {\r\n      return null;\r\n    }\r\n\r\n    let date = new Date(e.target.value).toISOString();\r\n    if(isDateFormatWithoutHours){\r\n      date = new Date(e.target.value).toISOString().slice(0, 10);\r\n    }\r\n\r\n    setSelectValue(e.target.value);\r\n    return date;\r\n  };\r\n  const getPreloadedDataFromControl = () => {\r\n    return control.defaultValuesRef &&\r\n      control.defaultValuesRef.current[`${fieldName}`]\r\n      ? control.defaultValuesRef?.current[`${fieldName}`].slice(0, 19)\r\n      : \"\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectValue(getPreloadedDataFromControl());\r\n  }, []);\r\n\r\n  return (\r\n    <Controller\r\n      control={control}\r\n      name={fieldName}\r\n      render={({ field: { onChange } }) => (\r\n        <input\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          type={isDateFormatWithoutHours ? \"date\" : \"datetime-local\" }\r\n          placeholder={placeholder}\r\n          onChange={(e) => onChange(handleInputChange(e))}\r\n          value={selectValue}\r\n        />\r\n      )}\r\n      rules={{ required: true }}\r\n    />\r\n  );\r\n}\r\n\r\nBDateFormInput.propTypes = {\r\n  placeholder: PropTypes.string.isRequired,\r\n  fieldName: PropTypes.string.isRequired,\r\n  control: PropTypes.object.isRequired,\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function BCheckboxInput({\r\n  fieldName,\r\n  placeholder,\r\n  register,\r\n  validation,\r\n}) {\r\n  return (\r\n    <label className=\"inline-flex items-center text-l mt-3\">\r\n      <input\r\n        className=\"form-checkbox h-5 w-5 text-gray-600\"\r\n        type=\"checkbox\"\r\n        placeholder={placeholder}\r\n        {...register(fieldName, { ...validation })}\r\n      />\r\n      <span className=\"ml-2 text-gray-700\">{placeholder}</span>\r\n    </label>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BDateFormInput({ \r\n  placeholder, \r\n  fieldName, \r\n  control, \r\n  validation\r\n}) {\r\n  const [selectValue, setSelectValue] = useState({});\r\n\r\n  const handleInputChange = (e) => {\r\n    if (e == null) {\r\n      return null;\r\n    }\r\n    const value = e.target.value;\r\n    \r\n    setSelectValue(value);\r\n    return value.replace(/\\s/g, \"\").split(',');\r\n  };\r\n  const getPreloadedDataFromControl = () => {\r\n    return control.defaultValuesRef &&\r\n      control.defaultValuesRef.current[`${fieldName}`]\r\n      ? control.defaultValuesRef?.current[`${fieldName}`].join(\", \")\r\n      : \"\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSelectValue(getPreloadedDataFromControl());\r\n  }, []);\r\n\r\n  return (\r\n    <Controller\r\n      control={control}\r\n      name={fieldName}\r\n      render={({ field: { onChange }, rules }) => (\r\n        <input\r\n          className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n          type=\"text\"\r\n          placeholder={placeholder}\r\n          onChange={(e) => onChange(handleInputChange(e))}\r\n          value={selectValue}\r\n        />\r\n      )}\r\n      rules={validation}\r\n    />\r\n  );\r\n}\r\n\r\nBDateFormInput.propTypes = {\r\n  placeholder: PropTypes.string.isRequired,\r\n  fieldName: PropTypes.string.isRequired,\r\n  validation: PropTypes.object,\r\n  control: PropTypes.object.isRequired,\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BFileInput({\r\n  placeholder,\r\n  fieldName,\r\n  control,\r\n  btnText = \"Add new image\",\r\n  availbaleSizeInMB = 10,\r\n  availableExtensions = [\"image/jpg\", \"image/png\", \"image/gif\"],\r\n}) {\r\n  const [imageSrc, setImageSrc] = useState(\"\");\r\n  const imageInput = useRef();\r\n  const ONE_MB_IN_BYTES = 1048576;\r\n\r\n  useEffect(() => {\r\n    setImageSrc(getPreloadedDataFromControl());\r\n  }, []);\r\n\r\n  const handleFileInputChange = (e) => {\r\n    if (e == null) {\r\n      return null;\r\n    }\r\n\r\n    const fileFromInput = e.target.files[0];\r\n    const fileExtension = fileFromInput.name.split(\".\")[1];\r\n\r\n    if (!isExtensionAllowed(fileExtension)) {\r\n      alert(\"Wrong file extension!\");\r\n      return;\r\n    }\r\n\r\n    if (fileFromInput.size > availbaleSizeInMB * ONE_MB_IN_BYTES) {\r\n      alert(\"File is too large!\");\r\n      return;\r\n    }\r\n\r\n    setImageSrc(URL.createObjectURL(fileFromInput));\r\n    return fileFromInput;\r\n  };\r\n\r\n  const getPreloadedDataFromControl = () => {\r\n    return control.defaultValuesRef &&\r\n      control.defaultValuesRef.current[`${fieldName}`]\r\n      ? control.defaultValuesRef.current[`${fieldName}`]\r\n      : \"\";\r\n  };\r\n\r\n  const isExtensionAllowed = (fileExtension) => {\r\n    const tempExtensions = availableExtensions.map((ex) => ex.split(\"/\")[1]);\r\n    return tempExtensions.includes(fileExtension);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center space-y-2 flex-col shadow appearance-none bg-white border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\">\r\n      {imageSrc && (\r\n        <>\r\n          <h2 className=\"text-l px-2 py-2\">Current image</h2>\r\n          <img\r\n            className=\"mx-auto border-2\"\r\n            alt=\"Current\"\r\n            width={150}\r\n            height={150}\r\n            src={imageSrc}\r\n          />\r\n        </>\r\n      )}\r\n      <Controller\r\n        control={control}\r\n        name={fieldName}\r\n        render={({ field: { onChange } }) => (\r\n          <>\r\n            <input\r\n              className=\"hidden\"\r\n              type=\"file\"\r\n              placeholder={placeholder}\r\n              onChange={(e) => onChange(handleFileInputChange(e))}\r\n              ref={imageInput}\r\n              accept={availableExtensions.join(\", \")}\r\n            />\r\n            <button\r\n              onClick={() => imageInput.current.click()}\r\n              type=\"button\"\r\n              className=\"appearance-nonerounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100 hover:bg-gray-300 transition-all rounded w-1/4\"\r\n            >\r\n              {btnText}\r\n            </button>\r\n          </>\r\n        )}\r\n        rules={{ required: true }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nBFileInput.propTypes = {\r\n  placeholder: PropTypes.string.isRequired,\r\n  fieldName: PropTypes.string.isRequired,\r\n  control: PropTypes.object.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport default function BTextareaField({\r\n  fieldName,\r\n  placeholder,\r\n  register,\r\n  validation,\r\n  type = \"text\",\r\n  step = \"1\",\r\n  cols,\r\n  rows,\r\n}) {\r\n  return (\r\n    <div>\r\n      <textarea\r\n        className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n        type={type}\r\n        cols={cols}\r\n        rows={rows}\r\n        placeholder={placeholder}\r\n        step={step}\r\n        {...register(fieldName, { ...validation })}\r\n      ></textarea>\r\n    </div>\r\n  );\r\n}\r\n\r\nBTextareaField.propTypes = {\r\n  fieldName: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  validation: PropTypes.object,\r\n  type: PropTypes.string,\r\n  register: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport capitalizeFieldHeader from \"../../utilis/capitalizeFieldHeader\";\r\nimport BFormField from \"./BFormField\";\r\nimport BCustomDropdownInput from \"../inputs/BCustomDropdownInput\";\r\nimport BFormSelectInput from \"../inputs/BSelectInput\";\r\nimport BDateFormInput from \"../inputs/BDateFormInput\";\r\nimport BCheckboxInput from \"../inputs/BCheckboxInput\";\r\nimport BTextArrayInput from \"../inputs/BTextArrayInput\"\r\nimport BFileInput from \"../inputs/BFileInput\";\r\nimport BTextareaField from \"./BTextareaField\";\r\n\r\nexport default function BFormFieldWrapper({\r\n  field,\r\n  errors,\r\n  control,\r\n  register,\r\n}) {\r\n  const {\r\n    dateFormat,\r\n    fieldName,\r\n    btnText,\r\n    itemsUrl,\r\n    placeholder,\r\n    filterBy,\r\n    options,\r\n    cols,\r\n    rows,\r\n    validation,\r\n    type = \"text\",\r\n    step = 1,\r\n  } = field;\r\n\r\n  const formatError = (error) => {\r\n    let errorMessage = error.message;\r\n    if (error.type === \"required\") {\r\n      errorMessage = \"This field is required\";\r\n    }\r\n    return <p className=\"text-center text-red-500 text-xs\">{errorMessage}</p>;\r\n  };\r\n\r\n  let fieldToReturn;\r\n\r\n  if (type === \"dropdown\") {\r\n    fieldToReturn = (\r\n      <BCustomDropdownInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        itemsUrl={itemsUrl}\r\n        control={control}\r\n        filterBy={filterBy}\r\n      />\r\n    );\r\n  } else if (type === \"select\") {\r\n    fieldToReturn = (\r\n      <BFormSelectInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        control={control}\r\n        options={options}\r\n      />\r\n    );\r\n  } else if (type === \"multiselect\") {\r\n    fieldToReturn = (\r\n      <BFormSelectInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        control={control}\r\n        options={options}\r\n        multi={true}\r\n      />\r\n    );\r\n  } else if (type === \"date\") {\r\n    fieldToReturn = (\r\n      <BDateFormInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        control={control}\r\n        dateFormat={dateFormat}\r\n      />\r\n    );\r\n  } else if (type === \"checkbox\") {\r\n    fieldToReturn = (\r\n      <BCheckboxInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        register={register}\r\n        validation={validation}\r\n      />\r\n    );\r\n  } else if (type === \"file\") {\r\n    fieldToReturn = (\r\n      <BFileInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        control={control}\r\n        btnText={btnText}\r\n      />\r\n    );\r\n  } else if (type === \"textarea\") {\r\n    fieldToReturn = (\r\n      <BTextareaField\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        register={register}\r\n        validation={validation}\r\n        cols={cols}\r\n        rows={rows}\r\n        type={type}\r\n        step={step}\r\n      />\r\n    );\r\n  } else if (type === \"textarray\") {\r\n    fieldToReturn = (\r\n      <BTextArrayInput\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        validation={validation}\r\n        register={register}\r\n        control={control}\r\n      />\r\n    );\r\n  } else {\r\n    fieldToReturn = (\r\n      <BFormField\r\n        fieldName={fieldName}\r\n        placeholder={placeholder}\r\n        register={register}\r\n        validation={validation}\r\n        type={type}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"capitalize pt-4 font-bold\">\r\n        {capitalizeFieldHeader(placeholder)}\r\n      </div>\r\n      <div key={fieldName} className=\"h-1/3\">\r\n        {fieldToReturn}\r\n        {errors && fieldName in errors && formatError(errors[fieldName])}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport BFormFieldWrapper from \"./BFormFieldWrapper\";\r\n\r\nexport default function BForm({\r\n  preloadedData,\r\n  fields,\r\n  btnText,\r\n  submit,\r\n  scroll = \"overflow-y-scroll\",\r\n  clearFormAfterSubmit = false,\r\n  responseErrors,\r\n  success,\r\n}) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    control,\r\n    reset,\r\n  } = useForm({ defaultValues: preloadedData });\r\n\r\n  const onSubmit = (data) => {\r\n    if (clearFormAfterSubmit) {\r\n      reset();\r\n    }\r\n    return submit(data);\r\n  };\r\n  \r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit(onSubmit)}\r\n      className={`w-full px-6 pb-1 max-h-85vh ${scroll}`}\r\n    >\r\n      {fields &&\r\n        fields.map((f) => (\r\n          <BFormFieldWrapper\r\n            key={f.fieldName}\r\n            field={f}\r\n            errors={errors}\r\n            register={register}\r\n            control={control}\r\n          />\r\n        ))}\r\n      <div className=\"md:flex md:items-center\">\r\n        <div className=\"w-full flex items-center justify-center mt-4\">\r\n          <input\r\n            className=\"shadow bg-blue-accent cursor-pointer hover:bg-blue-hover \r\n            focus:shadow-outline focus:outline-none text-white font-bold py-1 mb-1 px-3 rounded mx-auto\"\r\n            type=\"submit\"\r\n            value={btnText}\r\n          />\r\n        </div>\r\n      </div>\r\n      {responseErrors && \r\n        responseErrors.map((errorMessage, index) => (\r\n          <div key={index} className=\"p-2 text-red-600 text-center\">{errorMessage}</div>\r\n        ))}\r\n      {success && (\r\n        <div className=\"p-2 text-green-600 text-center\">\r\n          Succesfully added!\r\n        </div>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n\r\nBForm.propTypes = {\r\n  fields: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      fieldName: PropTypes.string,\r\n      placeholder: PropTypes.string,\r\n      validation: PropTypes.object,\r\n      type: PropTypes.string,\r\n    })\r\n  ),\r\n  btnText: PropTypes.string,\r\n  submit: PropTypes.func,\r\n};\r\n","import BForm from \"../components/forms/BForm\";\r\n\r\nfunction LoginForm({ onSubmit }) {\r\n  const fields = [\r\n    {\r\n      fieldName: \"email\",\r\n      placeholder: \"E-mail\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"password\",\r\n      placeholder: \"Passwort\",\r\n      validation: {\r\n        required: true,\r\n        minLength: {\r\n          value: 2,\r\n          message: \"Passwort sollte mindestens 2 Zeichen lang sein\",\r\n        },\r\n      },\r\n      type: \"password\",\r\n    },\r\n  ];\r\n\r\n  return <BForm fields={fields} btnText=\"Einloggen\" submit={onSubmit} scroll = ''/>;\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { useState } from \"react\";\r\nimport { authService } from \"../../service/authService\";\r\nimport BSpinner from \"../../components/spinners/BSpinner\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LoginForm from \"../../forms/LoginForm\";\r\nimport \"./LoginPage.css\";\r\n\r\nfunction LoginPage() {\r\n  const [errors, setErrors] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const tryLogin = (formData) => {\r\n    setLoading(true);\r\n    authService\r\n      .login(formData)\r\n      .then(() => {\r\n        history.push(\"/customers\");\r\n      })\r\n      .catch((error) => {\r\n        setErrors(error.response.data);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen bg-gray-200 m-0 w-screen flex items-center justify-center flex-col\">\r\n      <div className=\"bg-white rounded shadow-md flex items-center justify-center flex-col login-form relative\">\r\n        <LoginForm onSubmit={tryLogin} />\r\n        {errors.length !== 0 && errors.map((errorMessage, index) => (\r\n          <span key={index} className=\"m-0 text-center text-red-500 text-sm absolute bottom-1\">\r\n            {errorMessage}\r\n          </span>\r\n        ))}\r\n        {loading && (\r\n          <div className=\"absolute w-full\">\r\n            <BSpinner />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SideBarLink = ({ optionName, route }) => {\r\n  return (\r\n    <li className=\"py-2 hover:bg-blue-accent flex transition duration-200 ease-in-out rounded-md w-full mt-2 cursor-pointer\">\r\n      <Link\r\n        className=\"text-white w-full\"\r\n        to={route}\r\n        data-toggle=\"collapse\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        {optionName}\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default SideBarLink;\r\n","import { authService } from \"../../service/authService\";\r\nimport { AiOutlinePoweroff } from \"react-icons/ai\";\r\nimport SideBarLink from \"./SideBarLink\";\r\nimport \"./SideBar.css\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction SideBar() {\r\n  const [canNotifications, setCanNotifications] = useState(false);\r\n  const [canCoworkers, setCanCoworkers] = useState(false);\r\n  const [canStatistics, setCanStatistics] = useState(false);\r\n  const [canRanking, setCanRanking] = useState(false);\r\n  const [canPartners, setCanPartners] = useState(false);\r\n  const [canBrokers, setCanBrokers] = useState(false);\r\n  const [canCustomers, setCanCustomers] = useState(false);\r\n\r\n  useEffect(() => {\r\n    authService.getCurrentUser()\r\n    .then(res => {\r\n      setCanBrokers(isAllowed(\"canBrokers\", res.data));\r\n      setCanCoworkers(isAllowed(\"canCoworkers\", res.data));\r\n      setCanStatistics(isAllowed(\"canStatistics\", res.data));\r\n      setCanRanking(isAllowed(\"canRanking\", res.data));\r\n      setCanPartners(isAllowed(\"canPartners\", res.data));\r\n      setCanCustomers(isAllowed(\"canCustomers\", res.data));\r\n      setCanNotifications(isAllowed(\"canNotifications\", res.data));\r\n    });\r\n  }, [])\r\n  \r\n  const isAllowed = (permission, user) => {\r\n    return user.isAdmin || user[permission];\r\n  }\r\n  \r\n  const onLogout = (formData) => {\r\n    authService.logout(formData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-center bg-sidemenu bg-no-repeat\">\r\n      <h1 className=\"m-3 py-4 text-white font-bold\">\r\n        IMMOWERT\r\n        <br />\r\n        <span className=\"text-blue-accent\">4YOU</span>\r\n      </h1>\r\n      <ul className=\"list-unstyled components px-3\">\r\n        {canCustomers && <SideBarLink optionName=\"Benutzer\" route=\"/customers\" />}\r\n        {canBrokers && <SideBarLink optionName=\"Makler\" route=\"/brokers\" />}\r\n        {canPartners && <SideBarLink optionName=\"Kooperationspartner\" route=\"/partners\" />}\r\n        {canRanking && <SideBarLink optionName=\"Rangfolge\" route=\"/ranking\" />}\r\n        {canStatistics && <SideBarLink optionName=\"Statistiken\" route=\"/statistics\" />}\r\n        {canCoworkers && <SideBarLink optionName=\"Mitarbeiter\" route=\"/coworkers\" />}\r\n        {canNotifications && <SideBarLink optionName=\"Angebote\" route=\"/offerts\" />}\r\n      </ul>\r\n      <div className=\"px-3 absolute w-full bottom-5\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onLogout}\r\n          className=\"text-white py-2 cursor-pointer hover:bg-blue-accent\r\n           transition duration-200 ease-in-out rounded-md w-full flex justify-center items-center\"\r\n        >\r\n          <AiOutlinePoweroff className=\"mr-1\" />\r\n          Ausloggen\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBar;\r\n","import React from \"react\";\r\n\r\nconst BErrorIndicator = ({ errors }) => {\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"bg-white rounded shadow-md mt-6 w-full\">\r\n        <div className=\"p-10 font-bold text-lg text-center\">Error Occurred</div>\r\n        {errors &&\r\n          errors.map((message) => (\r\n            <div className=\"p-10 text-red-600 text-center\">{message}</div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BErrorIndicator;\r\n","import React from \"react\";\r\nimport BSpinner from \"../spinners/BSpinner\";\r\n\r\nconst BLoadingIndicator = () => {\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"bg-white rounded shadow-md mt-6 w-full\">\r\n        <div className=\"p-9 flex flex-col items-center justify-center\">\r\n          <div className=\"font-bold text-lg\">Loading...</div>\r\n          <BSpinner />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BLoadingIndicator;\r\n","import React from \"react\";\r\n\r\nconst BErrorIndicator = () => {\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"bg-white rounded shadow-md mt-6 w-full\">\r\n        <div className=\"p-10 font-bold text-lg text-center\">No data yet</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BErrorIndicator;\r\n","import { IoClose, IoCheckmark } from \"react-icons/io5\";\r\n\r\nconst emailRegex = /^[^\\s@]+@[^\\s@]+$/;\r\nconst isoDateRegex = /(\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(.+?\\d+)?)/;\r\n\r\nconst formatField = (value, extend = false, maxNmbOfChars = 20) => {\r\n  if (value == null || value === \"\") {\r\n    return \"-\";\r\n  }\r\n  switch (typeof value) {\r\n    case \"boolean\":\r\n      return formatBoolean(value);\r\n    case \"string\":\r\n      return formatString(value, extend, maxNmbOfChars);\r\n    case \"object\":\r\n      return formatObject(value);\r\n    default:\r\n      return value;\r\n  }\r\n};\r\n\r\nconst formatBoolean = (value) => {\r\n  if (value) {\r\n    return <IoCheckmark className=\"text-blue-600\" />;\r\n  }\r\n  return <IoClose className=\"text-red-600\" />;\r\n};\r\n\r\nconst formatString = (value, extend, maxNmbOfChars) => {\r\n  if (String(value).startsWith(\"http://\") || String(value).startsWith(\"https://\")) {\r\n    return (\r\n      <a\r\n        href={value}\r\n        className=\"text-blue-600 underline\"\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        link\r\n      </a>\r\n    );\r\n  }\r\n  let visibleValue = String(value);\r\n  if (value.length >= maxNmbOfChars && !extend) {\r\n    visibleValue = value.substring(0, maxNmbOfChars) + \"...\";\r\n  }\r\n  if (emailRegex.test(String(value).toLowerCase())) {\r\n    return (\r\n      <a href={\"mailto:\" + value} className=\"text-blue-600 underline\">\r\n        {visibleValue}\r\n      </a>\r\n    );\r\n  }\r\n  if (String(value).match(isoDateRegex)) {\r\n    const date = new Date(value);\r\n    return date.toLocaleString();\r\n  }\r\n  return visibleValue;\r\n};\r\n\r\nconst formatObject = (value) => {\r\n  console.log(value)\r\n  if(Array.isArray(value))\r\n  {\r\n    return(\r\n      value.map((url, idx) => (\r\n        <div key={idx}>\r\n          {formatString(url)}\r\n        </div>\r\n      ))\r\n    )\r\n  }\r\n\r\n  Object.keys(value).map((key) => {\r\n    return(\r\n        <div key={key}>\r\n          {formatString(value[key])}\r\n        </div>\r\n      );\r\n    }\r\n    )\r\n  }\r\n\r\nexport default formatField;\r\n","import React from \"react\";\r\nimport formatField from \"../../utilis/formatFields\";\r\n\r\nexport default function BTableCell({isReadOnly, cell, maxChars}) {\r\n  return (\r\n    <div\r\n      {...cell.getCellProps()}\r\n      className={`td border-b border-gray-200 m-0 relative p-2 h-full ${!isReadOnly && 'cursor-pointer'}`}\r\n    >\r\n      {formatField(cell.value, false, maxChars)}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BTableCell from \"./BTableCell\";\r\n\r\nexport default function BTableCellWithLink({to, cell}) {\r\n  return (\r\n    <Link to={to}>\r\n      <BTableCell cell={cell} />\r\n    </Link>\r\n  );\r\n}\r\n","import { useMemo } from \"react\";\r\nimport { useTable, useBlockLayout, useResizeColumns } from \"react-table\";\r\nimport { IoIosArrowUp, IoIosArrowDown } from \"react-icons/io\";\r\nimport BTableCell from \"../tables/BTableCell\";\r\nimport BTableCellWithLink from \"../tables/BTableCellWithLink\";\r\nimport \"./BTableRenderer.css\";\r\n\r\nfunction BTableRendrer({\r\n  url,\r\n  spacePerColumn,\r\n  columns,\r\n  data,\r\n  addOrdering,\r\n  title,\r\n  ordering,\r\n  maxNmbOfChars,\r\n  isReadOnly,\r\n}) {\r\n  const defaultColumn = useMemo(() => {\r\n    const rightScrollbarWidth = 15;\r\n\r\n    let columnsWidths = {\r\n      minWidth: 150,\r\n      maxWidth: 1000,\r\n    };\r\n\r\n    if (spacePerColumn !== 0) {\r\n      columnsWidths = {\r\n        ...columnsWidths,\r\n        width: spacePerColumn - rightScrollbarWidth,\r\n      };\r\n    }\r\n\r\n    return columnsWidths;\r\n  }, [spacePerColumn]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn,\r\n    },\r\n    useBlockLayout,\r\n    useResizeColumns\r\n  );\r\n\r\n  const showArrowBasedOnOrdering = (field) => {\r\n    field = field.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n\r\n    if (ordering.includes(field)) {\r\n      return <IoIosArrowUp color=\"white\" />;\r\n    } else if (ordering.includes(`-${field}`)) {\r\n      return <IoIosArrowDown color=\"white\" />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const makeFirstLetterLowerCase = (phrase) => {\r\n    return phrase.charAt(0).toLowerCase() + phrase.slice(1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"w-full mt-2 overflow-x-scroll\">\r\n        <div {...getTableProps()} className=\"table border border-gray-300\">\r\n          <div className=\"w-full bg-blue-accent\">\r\n            {headerGroups.map((headerGroup) => (\r\n              <div {...headerGroup.getHeaderGroupProps()} className=\"tr\">\r\n                {headerGroup.headers.map((column) => (\r\n                  <div\r\n                    {...column.getHeaderProps()}\r\n                    className=\"th m-0 relative p-2 font-bold text-white\"\r\n                    onClick={() => addOrdering(column.id)}\r\n                  >\r\n                    <div className=\"flex justify-between\">\r\n                      {column.render(\"Header\")}\r\n                      {showArrowBasedOnOrdering(column.id)}\r\n                    </div>\r\n\r\n                    <div\r\n                      {...column.getResizerProps()}\r\n                      className={`resizer ${\r\n                        column.isResizing ? \"isResizing\" : \"\"\r\n                      }`}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div {...getTableBodyProps()} className=\"overflow-auto h-60vh w-full\">\r\n            {rows.map((row, i) => {\r\n              prepareRow(row);\r\n              return (\r\n                <div {...row.getRowProps()} className=\"tr hover:bg-gray-200\">\r\n                  {row.cells.map((cell, idx) => {\r\n                    if (cell.column.id == \"id\" && !isReadOnly) {\r\n                      return (\r\n                        <BTableCellWithLink\r\n                          to={`${makeFirstLetterLowerCase(title)}/${\r\n                            row.original.id\r\n                          }`}\r\n                          cell={cell}\r\n                        />\r\n                      );\r\n                    }\r\n\r\n                    return <BTableCell isReadOnly={isReadOnly} cell={cell} maxChars={maxNmbOfChars} />;\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BTableRendrer;\r\n","import React, { useState } from \"react\";\r\nimport { IoCaretDown } from \"react-icons/io5\";\r\n\r\nconst BTableDropdown = ({ fields, onToggleField, visibleFields }) => {\r\n  const [toggler, setToggler] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      className=\"mr-2 shadow-md cursor-pointer relative w-52\"\r\n      onMouseEnter={() => setToggler(true)}\r\n      onMouseLeave={() => setToggler(false)}\r\n    >\r\n      <div className=\"flex items-center justify-between hover:bg-gray-100 py-1 px-2 border-gray-800 border rounded\">\r\n        <div className=\"text-gray-800 font-bold\">Columns</div>\r\n        <IoCaretDown\r\n          className={`${\r\n            toggler ? \"transform rotate-180\" : null\r\n          } text-gray-800 transition-all duration-75`}\r\n        />\r\n      </div>\r\n      {toggler && (\r\n        <div className=\"absolute flex flex-col bg-white border-gray-800 border-l border-r left-0 w-full transition-all duration-75 shadow-md z-10 top-7 pt-1 rounded-b border-b\">\r\n          {fields &&\r\n            fields.map((el) => {\r\n              return (\r\n                <div\r\n                  key={el.Header}\r\n                  className={\r\n                    \"px-2 py-1 text-left text-gray-800 border-gray-800 border-t \" +\r\n                    (visibleFields.includes(el)\r\n                      ? \"bg-white hover:bg-gray-100\"\r\n                      : \"bg-gray-100 text-opacity-40\")\r\n                  }\r\n                  onClick={() => onToggleField(el)}\r\n                >\r\n                  {el.Header}\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BTableDropdown;\r\n","import { BsTable } from \"react-icons/bs\";\r\n\r\nconst BTableHeader = ({ header }) => {\r\n  return (\r\n    <div className=\"bg-blue-accent absolute z-10 rounded py-3 px-4 ml-3 flex items-center\">\r\n      <BsTable className=\"text-white\" />\r\n      <h3 className=\"text-white text-xl ml-3 my-0 font-normal\">{header}</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BTableHeader;\r\n","const translateFieldHeader = (field) => {\r\n  switch (field) {\r\n    case 'First Name': return \"Vorname\";\r\n    case 'Last Name': return \"Nachname\";\r\n    case 'Broker Name': return \"Maklername\";\r\n    case 'Phone Number': return \"Telefonnummer\";\r\n    case 'Zip Code': return \"PLZ\";\r\n    case 'Zip Codes': return \"PLZ\";\r\n    case 'Responsibility Area': return \"Verantwortungsbereich\";\r\n    case 'Points': return \"Punkte\";\r\n    case 'Province': return \"Bezirk\";\r\n    case 'Estimations Number': return \"Schätzungszahl\";\r\n    case 'Estimations Average': return \"Durchschnitt\";\r\n    case 'Place': return \"Platz\";\r\n    case 'Region Place': return \"Regionsplatz\";\r\n    case 'Type': return \"Typ\";\r\n    case 'Size': return \"Größez\";\r\n    case 'Address': return \"Adresse\";\r\n    case 'Rooms': return \"Räume\";\r\n    case 'Floor': return \"Umhauen\";\r\n    case 'Extras': return \"Extras\";\r\n    case 'Is Agreed': return \"Ist vereinbart\";\r\n    case 'Is Estimated': return \"Wird geschätzt\";\r\n    case 'Price': return \"Preis\";\r\n    case 'Sub Category': return \"Unterkategorie\";\r\n    case 'Living Surface': return \"Wohnfläche\";\r\n    case 'Year Of Built': return \"Baujahr\";\r\n    case 'Has Basement': return \"Keller\";\r\n    case 'Floors': return \"Etagen\";\r\n    case 'Condition Rate': return \"Konditionsrate\";\r\n    case 'Intention To Sell': return \"Absicht zu verkaufen\";\r\n    case 'City': return \"Stadt\";\r\n    case 'House Number': return \"Hausnummer\";\r\n    case 'Has Balcony': return \"Balkon\";\r\n    case 'Has Loggia': return \"Loggia\";\r\n    case 'Has Garden': return \"Garten\";\r\n    case 'Has Carport': return \"Carport\";\r\n    case 'Has Garage': return \"Garage\";\r\n    case 'Has Parking': return \"Parkplätze\";\r\n    case 'Has Basement Closet': return \"Kellerschrank\";\r\n    case 'Has Energy Certificate': return \"Energieausweis\";\r\n    case 'Heating System': return \"Heizungssystem\";\r\n    case 'Is Open Offer': return \"Ist offenes Angebot\";\r\n    case 'Monthly Costs': return \"Monatliche Kosten\";\r\n    case 'Heating Costs': return \"HWB\";\r\n    case 'Photos': return \"Fotos\";\r\n    case 'Displayed To Broker': return \"Dem Broker angezeigt\";\r\n    case 'Company Name': return \"Name der Firma\";\r\n    case 'Houses Estimated': return \"Bewertete Häuser\";\r\n    case 'Apartment Estimated': return \"Bewertete Wohnungen\";\r\n    case 'Parcel Estimated': return \"Bewertete Grundstücke\";\r\n    case 'Average Property Price': return \"Durchschnittspreis\";\r\n    case 'Intention To Sell10': return \"Verkaufsbereitschaft 10\";\r\n    case 'Intention To Sell9': return \"Verkaufsbereitschaft 9\";\r\n    case 'Intention To Sell8': return \"Verkaufsbereitschaft 8\";\r\n    case 'Intention To Sell7': return \"Verkaufsbereitschaft 7\";\r\n    case 'Intention To Sell6': return \"Verkaufsbereitschaft 6\";\r\n    case 'Intention To Sell5': return \"Verkaufsbereitschaft 5\";\r\n    case 'Intention To Sell4': return \"Verkaufsbereitschaft 4\";\r\n    case 'Intention To Sell3': return \"Verkaufsbereitschaft 3\";\r\n    case 'Intention To Sell2': return \"Verkaufsbereitschaft 2\";\r\n    case 'Intention To Sell1': return \"Verkaufsbereitschaft 1\";\r\n    case 'Can Customers': return \"Benutzer bearbeiten\";\r\n    case 'Can Brokers': return \"Makler bearbeiten\";\r\n    case 'Can Statistics': return \"Statistiken ansehen\";\r\n    case 'Can Ranking': return \"Ranking-Übersicht\";\r\n    case 'Can Messages': return \"Nachrichten lesen\";\r\n    case 'Can Notifications': return \"Angebote senden\";\r\n    case 'Can Partner': return \"Partner bearbeiten\";\r\n    case 'Phone Number Confirmed': return \"Rufnummer bestätigt\";\r\n    case 'Is Open Offert': return \"In Arbeit\";\r\n    case \"Is Closed\": return \"Wird verweigert\";\r\n    case \"Has Met\": return \"Hat getroffen\";\r\n    case \"Has Contract\": return \"Hat Vertrag\";\r\n    case \"Created Date\": return \"Erstellt am\";\r\n\r\n    default: return field;\r\n  }\r\n};\r\n\r\nexport default translateFieldHeader;","import { useEffect, useState } from \"react\";\r\nimport capitalizeFieldHeader from \"../../utilis/capitalizeFieldHeader\";\r\nimport BTableRendrer from \"../renderers/BTableRenderer\";\r\nimport BTableDropdown from \"./BTableDropdown\";\r\nimport BTableHeader from \"./BTableHeader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport translateFieldHeader from \"../../utilis/translateFieldHeader\";\r\n\r\nfunction BTable({\r\n  data,\r\n  url,\r\n  header,\r\n  addOrdering,\r\n  title,\r\n  ordering,\r\n  availableWidth,\r\n  isCustomerPage,\r\n  maxNmbOfChars,\r\n  aboveTableComponent,\r\n  fieldsVisibleAtBeginning = [],\r\n  isReadOnly = false,\r\n}) {\r\n  const [fields, setFields] = useState([]);\r\n  const [visibleFields, setVisibleFields] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (data == null || data.length === 0) {\r\n      setFields([]);\r\n      return;\r\n    }\r\n    \r\n    let tempFields = [];\r\n    let tempVisibleFields = [];\r\n\r\n    for (const [key, value] of Object.entries(data[0])) {\r\n      const fieldPair = { accessor: key, Header: translateFieldHeader(capitalizeFieldHeader(key)) };\r\n      tempFields.push(fieldPair);\r\n\r\n      if (fieldsVisibleAtBeginning.includes(key)) {\r\n        tempVisibleFields.push(fieldPair);\r\n      }\r\n    }\r\n    \r\n    setFields(tempFields);\r\n    setVisibleFields(tempVisibleFields);\r\n\r\n    if(tempVisibleFields.length == 0) {\r\n      setVisibleFields(tempFields);  \r\n    }\r\n  }, [data]);\r\n\r\n  const onToggleField = (field) => {\r\n    let tempFields = visibleFields;\r\n    tempFields = tempFields.filter((val) => val !== field);\r\n    if (tempFields.length === visibleFields.length) {\r\n      tempFields.push(field);\r\n    }\r\n    setVisibleFields(tempFields);\r\n  };\r\n\r\n  const resetVisibleFields = () => {\r\n    setVisibleFields(fields);\r\n  };\r\n\r\n  const getSingularLowercaseHeader = () => {\r\n    return header.toLowerCase();\r\n  };\r\n\r\n  const computeColumnSpace = () => {\r\n    let visibleFields = fieldsVisibleAtBeginning.length == 0 ? fields : fieldsVisibleAtBeginning;\r\n    return visibleFields.length !== 0 ? ((availableWidth) / visibleFields.length) : 0;\r\n  };\r\n\r\n  const colSpace = computeColumnSpace();\r\n\r\n  return (\r\n    <>\r\n      <BTableHeader header={header} />\r\n      <div className=\"bg-white rounded shadow-md w-full flex flex-col border-gray-400 py-2 px-3 mt-6\">\r\n        <div className=\"flex justify-end\">\r\n          {aboveTableComponent}\r\n          {!isCustomerPage && !isReadOnly && (\r\n            <Link\r\n              className=\"text-gray-800 font-bold border-gray-800 border py-1 px-2 rounded shadow-md hover:bg-gray-100 mr-2 cursor-pointer\"\r\n              to={`${title.toLowerCase()}/add`}\r\n            >\r\n              Addieren {getSingularLowercaseHeader()}\r\n            </Link>\r\n          )}\r\n          <BTableDropdown\r\n            fields={fields}\r\n            onToggleField={onToggleField}\r\n            visibleFields={visibleFields}\r\n          />\r\n        </div>\r\n        <BTableRendrer\r\n          columns={visibleFields}\r\n          data={data}\r\n          addOrdering={addOrdering}\r\n          title={title}\r\n          ordering={ordering}\r\n          maxNmbOfChars={maxNmbOfChars}\r\n          spacePerColumn={colSpace}\r\n          isReadOnly={isReadOnly}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BTable;\r\n","export const ORDER_WAY = {\r\n  increase: \"increase\",\r\n  decrease: \"decrease\",\r\n  default: \"default\",\r\n};","import { useCallback, useEffect, useState } from \"react\";\r\nimport httpClient from \"../../utilis/jwtRequest\";\r\nimport BErrorIndicator from \"../indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../indicators/BLoadingIndicator\";\r\nimport BNoDataIndicator from \"../indicators/BNoDataIndicator\";\r\nimport BTable from \"../tables/BTable\";\r\nimport { ORDER_WAY } from \"../constants/componentsConstants\";\r\n\r\nfunction BResourcePage({\r\n  url,\r\n  title,\r\n  isCustomerPage,\r\n  preloadedData,\r\n  aboveTableComponent,\r\n  isReadOnly,\r\n  maxNmbOfChars,\r\n  fieldsVisibleAtBeginning,\r\n}) {\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [nmbOfRecords, setNmbOfRecords] = useState(20);\r\n  const [page, setPage] = useState(1);\r\n  const [resources, setResources] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [ordering, setOrdering] = useState([]);\r\n  const [availableWidth, setAvailableWidth] = useState(0);\r\n  const availableOptions = [10, 15, 20, 40];\r\n  const [noData, setNoData] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (preloadedData != null) {\r\n      setResources(preloadedData);\r\n      console.log(preloadedData);\r\n      return;\r\n    }\r\n\r\n    if (!url) return;\r\n\r\n    setIsLoading(true);\r\n    setError(false);\r\n    httpClient\r\n      .get(url)\r\n      .then((res) => {\r\n        if (!Array.isArray(res.data)) {\r\n          res.data = [res.data];\r\n        }\r\n        setResources(res.data);\r\n        setNmbOfRecords(res.data.count);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [url, page, pageSize, ordering]);\r\n\r\n  const formatUrl = () => {\r\n    const order = ordering.join();\r\n    return `${url}?page_size=${pageSize}&page=${page}&ordering=${order}`;\r\n  };\r\n\r\n  const child = useCallback((node) => {\r\n    if (node !== null) {\r\n      setAvailableWidth(node.getBoundingClientRect().width);\r\n    }\r\n  });\r\n\r\n  const addOrdering = (field) => {\r\n    let tempOrdering = [...ordering];\r\n    field = field.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n    let orderState;\r\n\r\n    if (tempOrdering.includes(field)) {\r\n      const idx = tempOrdering.indexOf(field);\r\n      tempOrdering[idx] = `-${field}`;\r\n      orderState = ORDER_WAY.decrease;\r\n    } else if (tempOrdering.includes(`-${field}`)) {\r\n      const idx = tempOrdering.indexOf(`-${field}`);\r\n      tempOrdering.splice(idx, 1);\r\n      orderState = ORDER_WAY.default;\r\n    } else {\r\n      tempOrdering.push(field);\r\n      orderState = ORDER_WAY.increase;\r\n    }\r\n    setOrdering(tempOrdering);\r\n    setPage(1);\r\n    return orderState;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  if (noData) {\r\n    return <BNoDataIndicator />;\r\n  }\r\n\r\n  return (\r\n    <div ref={child} className=\"p-6\">\r\n      <BTable\r\n        data={resources}\r\n        header={title}\r\n        availableOptions={availableOptions}\r\n        setPageSize={setPageSize}\r\n        pageSize={pageSize}\r\n        addOrdering={addOrdering}\r\n        title={url}\r\n        ordering={ordering}\r\n        availableWidth={availableWidth}\r\n        isCustomerPage={isCustomerPage}\r\n        maxNmbOfChars={maxNmbOfChars}\r\n        aboveTableComponent={aboveTableComponent}\r\n        isReadOnly={isReadOnly}\r\n        fieldsVisibleAtBeginning={fieldsVisibleAtBeginning}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BResourcePage;\r\n","import BResourcePage from \"../../../components/resources/BResourcePage\";\r\n\r\nfunction UsersPage() {\r\n  return (\r\n    <BResourcePage\r\n      title={\"Benutzer\"}\r\n      url={\"/Customers\"}\r\n      isCustomerPage=\"isCustomerPage\"\r\n      fieldsVisibleAtBeginning={[\r\n        \"id\",\r\n        \"email\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"zipCode\",\r\n        \"phoneNumber\",\r\n        \"brokerName\",\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default UsersPage;\r\n","import BResourcePage from \"../../../components/resources/BResourcePage\";\r\n\r\nfunction MaklersPage() {\r\n  return (\r\n    <BResourcePage\r\n      title={\"Makler\"}\r\n      url={\"/Brokers\"}\r\n      fieldsVisibleAtBeginning={[\r\n        \"id\",\r\n        \"email\",\r\n        \"firstName\",\r\n        \"lastName\",\r\n        \"points\",\r\n        \"province\",\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default MaklersPage;\r\n","import BResourcePage from \"../../../components/resources/BResourcePage\";\r\n\r\nfunction PartnersPage() {\r\n  return <BResourcePage \r\n  title={\"Kooperationspartner\"} url={\"/Partners\"} />;\r\n}\r\n\r\nexport default PartnersPage;\r\n","const createFormData = (formValues) => {\r\n    const objectKeys = Object.keys(formValues);\r\n    let formData = new FormData();\r\n    \r\n    objectKeys.forEach(key => {\r\n        if (key === \"image\" && typeof formValues[key] !== \"string\"){\r\n            formData.append(key, formValues[key], formValues[key].name);\r\n        }\r\n        else if(Array.isArray(formValues[key])){\r\n            formValues[key].forEach(value => formData.append(key + '[]', value))\r\n        }\r\n        else{\r\n            formData.append(key, formValues[key])\r\n        }\r\n    })\r\n  \r\n    return formData;\r\n  }\r\n\r\n  export default createFormData;","import httpClient from \"../utilis/jwtRequest\";\r\nimport createFormData from \"../utilis/formDataHelper\";\r\n\r\nconst MAKLERS_URL = \"/Brokers/\";\r\n\r\nfunction getAllMaklers() {\r\n  return httpClient.get(MAKLERS_URL);\r\n}\r\nfunction add(newBroker) {\r\n  const formData = createFormData(newBroker);\r\n  return httpClient.post(MAKLERS_URL, formData);\r\n}\r\nfunction getMaklerById(id) {\r\n  return httpClient.get(MAKLERS_URL + `${id}/`);\r\n}\r\nfunction getMaklerPointsById(id) {\r\n  return httpClient.get(MAKLERS_URL + `${id}/points`);\r\n}\r\nfunction saveMaklerPointsById(id,data) {\r\n  return httpClient.post(MAKLERS_URL + `${id}/points`,data);\r\n\r\n}\r\nfunction updateMakler(id, newBroker) {\r\n  const formData = createFormData(newBroker);\r\n  return httpClient.put(MAKLERS_URL + `${id}/`, formData);\r\n}\r\nfunction deleteMakler(id) {\r\n  return httpClient.delete(MAKLERS_URL + `${id}/`);\r\n}\r\nfunction activateMakler(id) {\r\n  return httpClient.post(MAKLERS_URL + `${id}/activate`);\r\n}\r\nfunction deactivateMakler(id) {\r\n  return httpClient.post(MAKLERS_URL + `${id}/deactivate`);\r\n}\r\nfunction blockMakler(id) {\r\n  return httpClient.post(`/Users/${id}/block`);\r\n}\r\nfunction unblockMakler(id) {\r\n  return httpClient.post(`/Users/${id}/unblock`);\r\n}\r\n\r\nexport const maklersService = {\r\n  getAllMaklers,\r\n  add,\r\n  getMaklerById,\r\n  updateMakler,\r\n  deleteMakler,\r\n  blockMakler,\r\n  unblockMakler,\r\n  activateMakler,\r\n  deactivateMakler,\r\n  getMaklerPointsById,\r\n  saveMaklerPointsById,\r\n};\r\n","import httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst REEGIONS_URL = \"/Regions/\";\r\n\r\nfunction getAllRegions() {\r\n  return httpClient.get(REEGIONS_URL);\r\n}\r\n\r\nexport const regionsService = {\r\n  getAllRegions: getAllRegions,\r\n};\r\n\r\n","const validatePlzs = (plzs) => {\r\n    const regex = /[0-9]{4}$/;\r\n    return plzs ? regex.test(plzs.join(\", \")) : true;\r\n}\r\n\r\n  export default validatePlzs;","import React, {useState, useEffect} from \"react\";\r\nimport BForm from \"../components/forms/BForm\";\r\nimport { regionsService } from \"../service/regionsService\";\r\nimport validatePlzs from \"../utilis/plzsValidation\";\r\n\r\nexport default function EditMaklersForm({ onSubmit, btnText, preloadedData , isNew, responseErrors}) {\r\n  const [provinces, setProvinces] = useState();\r\n\r\n  useEffect(() => {\r\n    regionsService.getAllRegions()\r\n    .then((res) => {\r\n      let data = res.data.map((el) => ({\r\n        value: el.id,\r\n        label: el.name,\r\n      }))\r\n      setProvinces(data);\r\n    })\r\n  }, [])\r\n  \r\n  const fields = [\r\n    {\r\n      fieldName: \"firstName\",\r\n      placeholder: \"Vorname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"lastName\",\r\n      placeholder: \"Nachname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"companyName\",\r\n      placeholder: \"Firmenname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"logo\",\r\n      placeholder: \"Logo\",\r\n      type: \"file\"\r\n    },\r\n    {\r\n      fieldName: \"email\",\r\n      placeholder: \"Email\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n          message: \"Email isn't valid!\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"phoneNumber\",\r\n      placeholder: \"Telefonnummer\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{3})/,\r\n          message: \"Phone number isn't valid! Try (123 456 789)\",\r\n        },\r\n      },\r\n      type: \"number\",\r\n    },\r\n    {\r\n      fieldName: \"regions\",\r\n      placeholder: \"Bezirk\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"multiselect\",\r\n      options: provinces,\r\n    },\r\n    {\r\n      fieldName: \"zipCodes\",\r\n      placeholder: \"Postleitzahlen durch Kommas trennen\",\r\n      validation: {\r\n        required: true,\r\n        validate: {\r\n          checkPlzs: v => validatePlzs(v) || \"This isn't valid zip code!\"\r\n        },\r\n      },\r\n      type: \"textarray\",\r\n    },\r\n    {\r\n      fieldName: \"responsibilityArea\",\r\n      placeholder: \"Verantwortungsbereich\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    /*{\r\n      fieldName: \"points\",\r\n      placeholder: \"Punkte\",\r\n      validation: {\r\n        required: true,\r\n        max: {\r\n          value: 1000,\r\n          message: \"Field can't be greater than 1000\",\r\n        },\r\n      },\r\n      type: \"number\",\r\n    },*/\r\n    {\r\n      fieldName: \"price\",\r\n      placeholder: \"Preis\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"note\",\r\n      placeholder: \"Notizen\",\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      responseErrors={responseErrors}\r\n    />\r\n  );\r\n}\r\n","import { maklersService } from \"../../../service/maklersService\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport BSpinner from \"../../../components/spinners/BSpinner\";\r\nimport EditMaklersForm from \"../../../forms/EditMaklersForm\";\r\n\r\nexport default function MaklersEditPage() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [responseErrors, setResponseErrors] = useState([]);\r\n  const { id } = useParams();\r\n  const [broker, setBroker] = useState({});\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setResponseErrors([])\r\n\r\n    maklersService\r\n      .getMaklerById(id)\r\n      .then((res) => setBroker(res.data))\r\n      .catch((err) => {\r\n        if (err.response.data) {\r\n          setResponseErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [id]);\r\n\r\n  const handleSubmit = (data) => {\r\n    setIsLoading(true);\r\n    setResponseErrors([])\r\n\r\n    maklersService\r\n      .updateMakler(id, data)\r\n      .then(() => {\r\n        history.push(`/brokers/${id}`);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.data) {\r\n          setResponseErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const joinBrokerZipCode = (broker) => {\r\n    broker[\"zipCodes\"] = broker.zipCodes ? broker.zipCodes.join(\", \") : \"\";\r\n    return broker;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"m-6 bg-white border-gray-400 rounded shadow-md\">\r\n      <EditMaklersForm\r\n        isNew={false}\r\n        onSubmit={handleSubmit}\r\n        preloadedData={broker}\r\n        btnText=\"Speichern\"\r\n        responseErrors={responseErrors}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport BForm from \"../../components/forms/BForm\";\r\n\r\nexport default function OffertsForm({\r\n  onSubmit,\r\n  btnText,\r\n  preloadedData,\r\n  success,\r\n  responseErrors,\r\n}) {\r\n  const fields = [\r\n    {\r\n      fieldName: \"title\",\r\n      placeholder: \"Titel\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"message\",\r\n      placeholder: \"Nachricht\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"textarea\",\r\n      cols: 40,\r\n      rows: 10,\r\n    },\r\n    {\r\n      fieldName: \"image\",\r\n      placeholder: \"Bild\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"file\",\r\n    },\r\n    {\r\n      fieldName: \"propertyType\",\r\n      placeholder: \"Immobilienstyp\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"select\",\r\n      options: [\r\n        { label: \"Haus\", value: 0 },\r\n        { label: \"Wohnung\", value: 1 },\r\n        { label: \"Paket\", value: 2 },\r\n      ],\r\n    },\r\n    {\r\n      fieldName: \"url\",\r\n      placeholder: \"Link\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"zipCode\",\r\n      placeholder: \"Postleitzahlen durch Kommas trennen\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /[0-9]{4}$/,\r\n          message: \"This isn't valid zip code!\",\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      success={success}\r\n      responseErrors={responseErrors}\r\n    />\r\n  );\r\n}\r\n","export const entities = {\r\n    BROKERS: \"brokers\",\r\n    COWORKERS: \"coworkers\",\r\n    PARTNERS: \"partners\",\r\n    OFFERTS: \"offerts\",\r\n    NOTES: \"notes\",\r\n};","import React from \"react\";\r\nimport BForm from \"../components/forms/BForm\";\r\n\r\nexport default function CoworkerForm({\r\n  onSubmit,\r\n  btnText,\r\n  preloadedData,\r\n  isNew,\r\n  responseErrors,\r\n  success,\r\n}) {\r\n  const fields = [\r\n    {\r\n      fieldName: \"email\",\r\n      placeholder: \"Email\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"password\",\r\n      placeholder: \"Passwort\",\r\n      validation: {\r\n        required: true,\r\n        minLength: {\r\n          value: 2,\r\n          message: \"Passwort sollte mindestens 2 Zeichen lang sein\",\r\n        },\r\n      },\r\n      type: \"password\",\r\n    },\r\n    {\r\n      fieldName: \"canCustomers\",\r\n      placeholder: \"Kann Benutzer anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canBrokers\",\r\n      placeholder: \"Kann Makler anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canPartner\",\r\n      placeholder: \"Kann Kooperationspartner anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canStatistics\",\r\n      placeholder: \"Kann Statistiken anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canRanking\",\r\n      placeholder: \"Kann Ranking anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canMessages\",\r\n      placeholder: \"Kann Nachrichten anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n    {\r\n      fieldName: \"canNotifications\",\r\n      placeholder: \"Kann Benachrichtigungen anzeigen\",\r\n      type: \"checkbox\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      responseErrors={responseErrors}\r\n      success={success}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport BForm from \"../components/forms/BForm\";\r\nimport { regionsService } from \"../service/regionsService\";\r\nimport validatePlzs from \"../utilis/plzsValidation\";\r\n\r\nexport default function MaklersForm({\r\n  onSubmit,\r\n  btnText,\r\n  preloadedData,\r\n  isNew,\r\n  responseErrors,\r\n  success,\r\n}) {\r\n  const [regions, setRegions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    regionsService.getAllRegions().then((res) => {\r\n      let data = res.data.map((el) => ({\r\n        value: el.id,\r\n        label: el.name,\r\n      }));\r\n      setRegions(data);\r\n    });\r\n  }, []);\r\n\r\n  const fields = [\r\n    {\r\n      fieldName: \"firstName\",\r\n      placeholder: \"Vorname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"lastName\",\r\n      placeholder: \"Nachname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"companyName\",\r\n      placeholder: \"Firmenname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"logo\",\r\n      placeholder: \"Logo\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"file\"\r\n    },\r\n    {\r\n      fieldName: \"email\",\r\n      placeholder: \"Email\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\r\n          message: \"Email isn't valid!\",\r\n        },\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"phoneNumber\",\r\n      placeholder: \"Telefonnummer\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{3})/,\r\n          message: \"Phone number isn't valid! Try (123 456 789)\",\r\n        },\r\n      },\r\n      type: \"number\",\r\n    },\r\n    {\r\n      fieldName: \"regions\",\r\n      placeholder: \"Bezirk\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"multiselect\",\r\n      options: regions,\r\n    },\r\n    {\r\n      fieldName: \"zipCodes\",\r\n      placeholder: \"Postleitzahlen durch Kommas trennen\",\r\n      validation: {\r\n        required: true,\r\n        validate: {\r\n          checkPlzs: v => validatePlzs(v) || \"This isn't valid zip code!\"\r\n        },\r\n      },\r\n      type: \"textarray\",\r\n    },\r\n    {\r\n      fieldName: \"responsibilityArea\",\r\n      placeholder: \"Verantwortungsbereich\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    /*{\r\n      fieldName: \"points\",\r\n      placeholder: \"Punkte\",\r\n      validation: {\r\n        required: true,\r\n        max: {\r\n          value: 1000,\r\n          message: \"Field can't be greater than 1000\",\r\n        },\r\n      },\r\n      type: \"number\",\r\n    },*/\r\n    {\r\n      fieldName: \"price\",\r\n      placeholder: \"Preis\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"note\",\r\n      placeholder: \"Notizen\",\r\n    },\r\n    {\r\n      fieldName: \"password\",\r\n      placeholder: \"Passwort\",\r\n      validation: {\r\n        required: true,\r\n        minLength: {\r\n          value: /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/,\r\n          message:\r\n            \"Password should be one a-z, A-Z, 1-9 and nonalphanumeric character\",\r\n        },\r\n      },\r\n      type: \"password\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      responseErrors={responseErrors}\r\n      success={success}\r\n    />\r\n  );\r\n}\r\n","import httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst PROFESSIONS_URL = \"/Professions/\";\r\n\r\nfunction getAllProfessions() {\r\n  return httpClient.get(PROFESSIONS_URL);\r\n}\r\n\r\nexport const professionsService = {\r\n  getAllProfessions,\r\n};\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport BForm from \"../components/forms/BForm\";\r\nimport { professionsService } from \"../service/professionsService\";\r\nimport { regionsService } from \"../service/regionsService\";\r\nimport validatePlzs from \"../utilis/plzsValidation\";\r\n\r\nexport default function PartnersForm({\r\n  preloadedData,\r\n  btnText,\r\n  onSubmit,\r\n  responseErrors,\r\n  success,\r\n}) {\r\n  const [professions, setProfessions] = useState([]);\r\n  const [provinces, setRegions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    professionsService.getAllProfessions().then((res) => {\r\n      let data = res.data.map((el) => ({\r\n        value: el.id,\r\n        label: el.name,\r\n      }));\r\n      setProfessions(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    regionsService.getAllRegions().then((res) => {\r\n      let data = res.data.map((el) => ({\r\n        value: el.id,\r\n        label: el.name,\r\n      }));\r\n      setRegions(data);\r\n    });\r\n  }, []);\r\n\r\n  const fields = [\r\n    {\r\n      fieldName: \"companyName\",\r\n      placeholder: \"Firmenname\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"logo\",\r\n      placeholder: \"Logo\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"file\",\r\n    },\r\n    {\r\n      fieldName: \"contactPerson\",\r\n      placeholder: \"Ansprechpartner\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"province\",\r\n      placeholder: \"Bezirk\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"select\",\r\n      options: provinces,\r\n    },\r\n    {\r\n      fieldName: \"address\",\r\n      placeholder: \"Adresse\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"zipCodes\",\r\n      placeholder: \"Postleitzahlen durch Kommas trennen\",\r\n      validation: {\r\n        required: true,\r\n        validate: {\r\n          checkPlzs: v => validatePlzs(v) || \"This isn't valid zip code!\"\r\n        },\r\n      },\r\n      type: \"textarray\",\r\n    },\r\n    {\r\n      fieldName: \"profession\",\r\n      placeholder: \"Beruf\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"select\",\r\n      options: professions,\r\n    },\r\n    {\r\n      fieldName: \"price\",\r\n      placeholder: \"Preis\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"number\",\r\n    },\r\n    {\r\n      fieldName: \"durationFrom\",\r\n      placeholder: \"Dauer von\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"date\",\r\n    },\r\n    {\r\n      fieldName: \"durationTo\",\r\n      placeholder: \"Dauer bis\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n      type: \"date\",\r\n    },\r\n    {\r\n      fieldName: \"phoneNumber\",\r\n      placeholder: \"Telefonnummer\",\r\n      validation: {\r\n        required: true,\r\n        pattern: {\r\n          value: /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{3})/,\r\n          message: \"Phone number isn't valid! Try (123 456 789)\",\r\n        },\r\n      },\r\n      type: \"number\",\r\n    },\r\n    {\r\n      fieldName: \"websiteURL\",\r\n      placeholder: \"Website-URL\",\r\n      validation: {\r\n        required: true,\r\n      },\r\n    },\r\n    {\r\n      fieldName: \"note\",\r\n      placeholder: \"Notizen\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      responseErrors={responseErrors}\r\n      success={success}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport BForm from \"../../components/forms/BForm\";\r\n\r\nexport default function NotesForm({\r\n  onSubmit,\r\n  btnText,\r\n  preloadedData,\r\n  success,\r\n  responseErrors,\r\n}) {\r\n  const fields = [\r\n    {\r\n      fieldName: \"note\",\r\n      placeholder: \"Notieren\",\r\n      type: \"textarea\",\r\n      cols: 40,\r\n      rows: 10,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <BForm\r\n      preloadedData={preloadedData}\r\n      btnText={btnText}\r\n      submit={onSubmit}\r\n      fields={fields}\r\n      success={success}\r\n      responseErrors={responseErrors}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport OffertsForm from \"../pages/OffertsPage/OffertsForm\";\r\nimport { entities } from \"../utilis/entitiesNames\";\r\nimport CoworkerForm from \"./CoworkerForm\";\r\nimport MaklersForm from \"./MaklersForm\";\r\nimport PartnersForm from \"./PartnersForm\";\r\nimport NotesForm from \"../pages/NotesPage/NotesForm\";\r\n\r\nexport default function BFormWrapper({ name, onSubmit, responseErrors, success }) {\r\n  const getNameWithoutLastChar = () => {\r\n    return name.substring(0, name.length - 1);\r\n  };\r\n\r\n  if (name == entities.NOTES) {\r\n    return (\r\n      <NotesForm\r\n        btnText='Speichern'\r\n        onSubmit={onSubmit}\r\n        responseErrors={responseErrors}\r\n        success={success}\r\n      />\r\n    );\r\n  } else if (name == entities.BROKERS) {\r\n    return (\r\n      <MaklersForm\r\n        btnText='Addieren Makler'\r\n        onSubmit={onSubmit}\r\n        responseErrors={responseErrors}\r\n        success={success}\r\n      />\r\n    );\r\n  } else if (name == entities.PARTNERS) {\r\n    return (\r\n      <PartnersForm\r\n        btnText='Addieren Kooperationspartner'\r\n        onSubmit={onSubmit}\r\n        responseErrors={responseErrors}\r\n        success={success}\r\n      />\r\n    );\r\n  } else if (name == entities.COWORKERS) {\r\n    return (\r\n        <CoworkerForm\r\n        btnText='Addieren Mitarbeiter'\r\n        onSubmit={onSubmit}\r\n        responseErrors={responseErrors}\r\n        success={success}\r\n      />\r\n    );\r\n  } else {\r\n    return (\r\n      <OffertsForm\r\n        btnText='Addieren Angebote'\r\n        onSubmit={onSubmit}\r\n        success={success}\r\n        responseErrors={responseErrors}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BFormWrapper from \"../../forms/BFormWrapper\";\r\nimport BSpinner from \"../spinners/BSpinner\";\r\n\r\nexport default function BAddPage({\r\n  name,\r\n  service,\r\n  redirectAfterSubmit = false,\r\n}) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [success, setSuccess] = useState(false);\r\n  const [addAnother, setAddAnother] = useState(!redirectAfterSubmit);\r\n  const history = useHistory();\r\n\r\n  const tryAdd = (formData) => {\r\n    setIsLoading(true);\r\n    setErrors([]);\r\n    setSuccess(false);\r\n    \r\n    service\r\n      .add(formData)\r\n      .then(() => {\r\n        setSuccess(true);\r\n\r\n        if (!addAnother) {\r\n          history.push(`/${name}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setSuccess(false);\r\n\r\n        if (err.response) {\r\n          setErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <BSpinner />}\r\n      {!isLoading && (\r\n        <div className=\"m-6 bg-white border-gray-400 rounded shadow-md relative\">\r\n          <BFormWrapper\r\n            name={name}\r\n            onSubmit={tryAdd}\r\n            responseErrors={errors}\r\n            success={success}\r\n          />\r\n          <label className=\"absolute flex items-center text-l mt-3 pb-6\">\r\n            <input\r\n              value={addAnother}\r\n              onChange={() => setAddAnother((prev) => !prev)}\r\n              type=\"checkbox\"\r\n              className=\"form-checkbox h-5 w-5 text-gray-600\"\r\n            />\r\n            <span className=\"ml-2 text-gray-700\">Add Another</span>\r\n          </label>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport BAddPage from \"../../../components/crud/BAddPage\";\r\nimport { maklersService } from \"../../../service/maklersService\";\r\nimport { entities } from \"../../../utilis/entitiesNames\";\r\n\r\nexport default function MaklersAddPage() {\r\n  return <BAddPage name={entities.BROKERS} service={maklersService} />;\r\n}\r\n","import httpClient from \"../utilis/jwtRequest\";\r\nimport createFormData from \"../utilis/formDataHelper\";\r\n\r\nconst PARTNERS_URL = \"/Partners/\";\r\n\r\nfunction getAllPartners() {\r\n  return httpClient.get(PARTNERS_URL);\r\n}\r\nfunction add(newPartner) {\r\n  const formData = createFormData(newPartner);\r\n  return httpClient.post(PARTNERS_URL, formData);\r\n}\r\nfunction getPartnerById(id) {\r\n  return httpClient.get(PARTNERS_URL + `${id}/`);\r\n}\r\nfunction updatePartner(id, newPartner) {\r\n  const formData = createFormData(newPartner);\r\n  return httpClient.put(PARTNERS_URL + `${id}/`, formData);\r\n}\r\nfunction deletePartner(id) {\r\n  return httpClient.delete(PARTNERS_URL + `${id}/`);\r\n}\r\n\r\nexport const partnersService = {\r\n  getAllPartners,\r\n  add,\r\n  getPartnerById,\r\n  updatePartner,\r\n  deletePartner,\r\n};\r\n\r\n","import React from \"react\";\r\nimport BAddPage from \"../../../components/crud/BAddPage\";\r\nimport { partnersService } from \"../../../service/partnersService\";\r\nimport { entities } from \"../../../utilis/entitiesNames\";\r\n\r\nexport default function PartnersAddPage() {\r\n  return <BAddPage name={entities.PARTNERS} service={partnersService} />;\r\n}\r\n","import { partnersService } from \"../../../service/partnersService\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport BSpinner from \"../../../components/spinners/BSpinner\";\r\nimport PartnersForm from \"../../../forms/PartnersForm\";\r\n\r\nexport default function PartnersEditPage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [responseErrors, setResponseError] = useState();\r\n  const { id } = useParams();\r\n  const [partner, setPartner] = useState(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setResponseError([]);\r\n\r\n    partnersService\r\n      .getPartnerById(id)\r\n      .then((res) => setPartner(res.data))\r\n      .catch((err) => {\r\n        if (err.response.data) {\r\n          setResponseError(err.response.data);\r\n        }\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [id]);\r\n\r\n  const handleSubmit = (data) => {\r\n    setIsLoading(true);\r\n    setResponseError([]);\r\n\r\n    data.price = data.price != null ? parseFloat(data.price) : null;\r\n    partnersService\r\n      .updatePartner(id, data)\r\n      .then(() => {\r\n        history.push(`/partners/${id}`);\r\n      })\r\n      .catch((err) => {\r\n        setResponseError(err.response.data);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  const deleteNull = (obj) => {\r\n    Object.keys(obj).forEach(function (key) {\r\n      if (obj[key] === null) {\r\n        obj[key] = \"\";\r\n      }\r\n      return obj;\r\n    });\r\n    return obj;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"m-6 bg-white border-gray-400 rounded shadow-md\">\r\n      {partner && (\r\n        <>\r\n          <PartnersForm\r\n            onSubmit={handleSubmit}\r\n            preloadedData={deleteNull(partner)}\r\n            btnText=\"Speichern\"\r\n            responseErrors={responseErrors}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport BErrorIndicator from \"../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../components/indicators/BLoadingIndicator\";\r\nimport BResourcePage from \"../../components/resources/BResourcePage\";\r\nimport httpClient from \"../../utilis/jwtRequest\";\r\n\r\nfunction StatisticsPage() {\r\n  const [provincesStats, setProvincesStats] = useState([]);\r\n  const [contractsNumber, setContractsNumber] = useState(0);\r\n  const [estimationsNumber, setEstimationsNumber] = useState(0);\r\n  const [verifiedEstimationsNumber, setVerifiedEstimationsNumber] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setError(false);\r\n    httpClient\r\n      .get(\"regions/stats/\")\r\n      .then((res) => {\r\n        console.log(res);\r\n        setVerifiedEstimationsNumber(res.data.verifiedEstimationsNumber);\r\n        setEstimationsNumber(res.data.estimationsNumber);\r\n        setContractsNumber(res.data.contractsNumber);\r\n        setProvincesStats(res.data.regionStats);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  const aboveTableComponent = (\r\n    <div className=\"text-gray-800 border-gray-800 border-b py-1 px-2 mr-10 space-x-8\">\r\n      <span className=\"text-sm font-semibold\">Schätzungen:</span>{\" \"}\r\n      {estimationsNumber}\r\n      {\"  \"}\r\n      <span className=\"text-sm font-semibold\">Bestätigte Schätzungen:</span>{\" \"}\r\n      {verifiedEstimationsNumber}\r\n      {\"  \"}\r\n      <span className=\"text-sm font-semibold\">Vertragsnummer:</span>{\" \"}\r\n      {contractsNumber}\r\n      {\"  \"}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <BResourcePage\r\n      title={\"Statistiken\"}\r\n      preloadedData={provincesStats}\r\n      aboveTableComponent={aboveTableComponent}\r\n      isReadOnly={true}\r\n      fieldsVisibleAtBeginning={[\r\n        \"region\",\r\n        \"housesEstimated\",\r\n        \"apartmentEstimated\",\r\n        \"parcelEstimated\",\r\n        \"averagePropertyPrice\",\r\n        \"intentionToSell10\",\r\n        \"intentionToSell9\",\r\n      ]}\r\n    />\r\n  );\r\n}\r\n\r\nexport default StatisticsPage;\r\n","import BResourcePage from '../../components/resources/BResourcePage';\r\n\r\nfunction RankingPage() {\r\n  return (\r\n    <BResourcePage\r\n      title={'Rangfolge'}\r\n      url={'/brokers/stats'}\r\n      isReadOnly={true}\r\n      fieldsVisibleAtBeginning={['id', 'firstName', 'lastName', 'points', 'place', 'Estimations Number', 'Estimations Average']}\r\n    />\r\n  );\r\n}\r\n\r\nexport default RankingPage;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport httpClient from \"../../../utilis/jwtRequest\";\r\nimport BErrorIndicator from \"../../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../../components/indicators/BLoadingIndicator\";\r\nimport BNoDataIndicator from \"../../../components/indicators/BNoDataIndicator\";\r\nimport BTable from \"../../../components/tables/BTable\";\r\nimport { ORDER_WAY } from \"../../../components/constants/componentsConstants\";\r\nimport { useParams } from \"react-router\";\r\n\r\nfunction UserMessagesPage() {\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [nmbOfRecords, setNmbOfRecords] = useState(20);\r\n  const [page, setPage] = useState(1);\r\n  const [resources, setResources] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [ordering, setOrdering] = useState([]);\r\n  const [availableWidth, setAvailableWidth] = useState(0);\r\n  const availableOptions = [10, 15, 20, 40];\r\n  const params = useParams();\r\n  const [noRecords, setNoRecords] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setError(false);\r\n    httpClient\r\n      .get(`/Users/${params.id}/chats`)\r\n      .then((res) => {\r\n        if (res.data[0] == undefined) {\r\n          setNoRecords(true);\r\n          return;\r\n        }\r\n        setResources(res.data[0].messages);\r\n        setNmbOfRecords(res.data[0].count);\r\n      })\r\n      .catch((err) => {\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n\r\n\r\n  const child = useCallback((node) => {\r\n    if (node !== null) {\r\n      setAvailableWidth(node.getBoundingClientRect().width);\r\n    }\r\n  });\r\n\r\n  const addOrdering = (field) => {\r\n    let tempOrdering = [...ordering];\r\n    field = field.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n    let orderState;\r\n\r\n    if(tempOrdering.includes(field)) {\r\n      const idx = tempOrdering.indexOf(field);\r\n      tempOrdering[idx] = `-${field}`;\r\n      orderState = ORDER_WAY.decrease;\r\n    }\r\n    else if(tempOrdering.includes(`-${field}`)) {\r\n      const idx = tempOrdering.indexOf(`-${field}`);\r\n      tempOrdering.splice(idx, 1);\r\n      orderState = ORDER_WAY.default;\r\n    }\r\n    else{\r\n      tempOrdering.push(field);\r\n      orderState = ORDER_WAY.increase;\r\n    }\r\n    setOrdering(tempOrdering);\r\n    setPage(1);\r\n    return orderState;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  if (noRecords) {\r\n    return <BNoDataIndicator/>\r\n  }\r\n\r\n  return (\r\n    <div ref={child} className=\"p-6\">\r\n      <BTable\r\n        data={resources}\r\n        header=\"Messages\"\r\n        availableOptions={availableOptions}\r\n        setPageSize={setPageSize}\r\n        pageSize={pageSize}\r\n        addOrdering={addOrdering}\r\n        title=\"Messages\"\r\n        ordering={ordering}\r\n        availableWidth={availableWidth}\r\n        isCustomerPage={true}\r\n        maxNmbOfChars={1000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserMessagesPage;\r\n","import { useParams } from \"react-router\";\r\nimport BResourcePage from \"../../../components/resources/BResourcePage\";\r\n\r\nconst UserPropertyPage = () => {\r\n  const params = useParams();\r\n\r\n  return <BResourcePage title={\"Immobilien\"} url={`/Customers/${params.id}/properties`} />;\r\n}\r\n\r\nexport default UserPropertyPage;","import createFormData from \"../utilis/formDataHelper\";\r\nimport httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst OFFERTS_URL = \"/offerts/\";\r\n\r\nfunction add(offertData) {\r\n  const formData = createFormData(offertData);\r\n  return httpClient.post(OFFERTS_URL, formData);\r\n}\r\n\r\nexport const offertsService = { add };\r\n","import React, {useState} from 'react';\r\nimport {offertsService} from '../../service/offertsService';\r\nimport {entities} from '../../utilis/entitiesNames';\r\nimport {useHistory} from 'react-router-dom';\r\nimport BFormWrapper from '../../forms/BFormWrapper';\r\nimport BSpinner from '../../components/spinners/BSpinner';\r\n\r\nexport default function OffersPage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [success, setSuccess] = useState(false);\r\n  const [addAnother, setAddAnother] = useState(false);\r\n  const [sendBrokers, setSendBrokers] = useState(false);\r\n  const [sendUsers, setSendUsers] = useState(true);\r\n  const history = useHistory();\r\n\r\n  const tryAdd = (formData) => {\r\n    setIsLoading(true);\r\n    setErrors([]);\r\n    setSuccess(false);\r\n\r\n    formData.sholudBeSendToCustomers = sendUsers;\r\n\r\n    offertsService\r\n      .add(formData)\r\n      .then(() => {\r\n        setSuccess(true);\r\n\r\n        if (!addAnother) {\r\n          history.push(`/${entities.OFFERTS}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setSuccess(false);\r\n\r\n        if (err.response) {\r\n          setErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <BSpinner />}\r\n      {!isLoading && (\r\n        <div className=\"m-6 bg-white border-gray-400 rounded shadow-md relative\">\r\n          <BFormWrapper\r\n            name={entities.OFFERTS}\r\n            onSubmit={tryAdd}\r\n            responseErrors={errors}\r\n            success={success}\r\n          />\r\n          <div className=\"absolute flex items-center text-l mt-3 pb-6\">\r\n            <label className=\"flex\">\r\n              <input\r\n                value={addAnother}\r\n                onChange={() => setAddAnother((prev) => !prev)}\r\n                type=\"checkbox\"\r\n                className=\"form-checkbox h-5 w-5 text-gray-600\"\r\n              />\r\n              <span className=\"ml-2 text-gray-700\">Neue hinzufügen</span>\r\n            </label>\r\n          </div>\r\n          <div className=\"absolute flex items-center text-l right-0 mt-3 pb-6\">\r\n            <label className=\"flex\">\r\n              <input\r\n                className=\"ml-2 mt-1\"\r\n                type=\"radio\"\r\n                name=\"Users\"\r\n                value=\"USERS\"\r\n                checked={sendUsers}\r\n                onChange={(value) => \r\n                  {\r\n                    setSendUsers(value);\r\n                    setSendBrokers(false);\r\n                  }}\r\n              />\r\n              <span className=\"ml-2 text-gray-700\">Nutzer</span>\r\n            </label>\r\n            <label className=\"flex\">\r\n              <input\r\n                className=\"ml-5 mt-1\"\r\n                type=\"radio\"\r\n                name=\"Brokers\"\r\n                value=\"BROKERS\"\r\n                checked={sendBrokers}\r\n                onChange={(value) => \r\n                  {\r\n                    setSendBrokers(value);\r\n                    setSendUsers(false);\r\n                  }}\r\n              />\r\n              <span className=\"ml-2 text-gray-700\">Makler</span>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport BResourcePage from '../../../components/resources/BResourcePage';\r\n\r\nexport default function CoworkersPage() {\r\n    return (\r\n        <BResourcePage\r\n          title={\"Mitarbeiter\"}\r\n          url={\"/coworkers\"}\r\n        />\r\n      );\r\n}\r\n","import httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst COWORKERS_URL = \"/coworkers\";\r\n\r\nfunction getCoworkerById(id) {\r\n  return httpClient.get(`${COWORKERS_URL}/${id}/`);\r\n}\r\nfunction deleteCoworker(id) {\r\n  return httpClient.delete(`${COWORKERS_URL}/${id}/`);\r\n}\r\nfunction getAllCoworkers() {\r\n  return httpClient.get(COWORKERS_URL);\r\n}\r\nfunction getCoworkerChats(id) {\r\n  return httpClient.get(`${COWORKERS_URL}/${id}/chats`);\r\n}\r\nfunction updateCoworker(id, newCoworker) {\r\n  return httpClient.put(`${COWORKERS_URL}/${id}/`, newCoworker);\r\n}\r\nfunction add(newCoworker) {\r\n  return httpClient.post(`${COWORKERS_URL}/`, newCoworker);\r\n}\r\nfunction blockCoworker(id) {\r\n  return httpClient.post(`${COWORKERS_URL}/${id}/block`);\r\n}\r\nfunction unblockCoworker(id) {\r\n  return httpClient.post(`${COWORKERS_URL}/${id}/unblock`);\r\n}\r\n\r\nexport const coworkersService = {\r\n  getCoworkerById,\r\n  deleteCoworker,\r\n  getAllCoworkers,\r\n  blockCoworker,\r\n  unblockCoworker,\r\n  getCoworkerChats,\r\n  updateCoworker,\r\n  add,\r\n};\r\n","import React from \"react\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BDeleteButton({ onDelete, btnText = \"Löschen\" }) {\r\n  return (\r\n    <button\r\n      onClick={onDelete}\r\n      className=\"py-1 px-3 rounded-md shadow-md bg-red-600 text-white flex items-center cursor-pointer hover:bg-red-500 transition-all focus:shadow-outline focus:outline-none\"\r\n      type=\"submit\"\r\n    >\r\n      <AiFillDelete className=\"mr-1\" />\r\n      {btnText}\r\n    </button>\r\n  );\r\n}\r\n\r\nBDeleteButton.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  btnText: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport { BiBlock } from \"react-icons/bi\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BBlockButton({ onBlock, btnText }) {\r\n  return (\r\n    <button\r\n      onClick={onBlock}\r\n      className=\"ml-4 py-1 px-3 rounded-md shadow-md bg-yellow-600 text-white flex items-center cursor-pointer hover:bg-yellow-500 transition-all focus:shadow-outline focus:outline-none\"\r\n      type=\"submit\"\r\n    >\r\n      <BiBlock className=\"mr-1\" />\r\n      {btnText}\r\n    </button>\r\n  );\r\n}\r\n\r\nBBlockButton.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  btnText: PropTypes.string,\r\n};\r\n","import React from \"react\";\r\nimport { AiOutlinePoweroff } from \"react-icons/ai\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function BActivateButton({ onActivate, btnText }) {\r\n  return (\r\n    <button\r\n      onClick={onActivate}\r\n      className=\"py-1 px-3 rounded-md shadow-md bg-yellow-600 text-white flex items-center cursor-pointer hover:bg-yellow-500 transition-all focus:shadow-outline focus:outline-none ml-4\"\r\n      type=\"submit\"\r\n    >\r\n      <AiOutlinePoweroff className=\"mr-1\" />\r\n      {btnText}\r\n    </button>\r\n  );\r\n}\r\n\r\nBActivateButton.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  btnText: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {BsBookHalf, BsHouse, BsPencil} from 'react-icons/bs';\r\nimport {FaMailBulk, FaHome, FaFlagCheckered} from 'react-icons/fa'\r\nimport formatField from '../../utilis/formatFields';\r\nimport capitalizeFieldHeader from '../../utilis/capitalizeFieldHeader';\r\nimport BDeleteButton from '../buttons/BDeleteButton';\r\nimport BLoadingIndicator from '../indicators/BLoadingIndicator';\r\nimport BBlockButton from '../buttons/BBlockButton';\r\nimport BActivateButton from '../buttons/BActivateButton';\r\nimport translateFieldHeader from '../../utilis/translateFieldHeader';\r\n\r\nconst BDetailsPage = ({\r\n  data,\r\n  handleDelete,\r\n  handleActivate,\r\n  handleDeactivate,\r\n  handleBlock,\r\n  handleUnblock,\r\n  isBlocked,\r\n  isUser,\r\n  canMessages,\r\n  isBroker,\r\n}) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <>\r\n      {data ? (\r\n        <div className=\"bg-white rounded shadow-md flex flex-col border-gray-400 py-2 px-3 mt-6 m-6\">\r\n          {Object.keys(data).map((k) => (\r\n            <div className=\"px-2 py-2 border-b-2 border-gray-200 flex\" key={k}>\r\n              <div className=\"font-bold w-1/6\">{translateFieldHeader(capitalizeFieldHeader(k))}</div>\r\n              <div className='w-5/6'>{formatField(data[k], true)}</div>\r\n            </div>\r\n          ))}\r\n          <div className=\"px-2 py-2 border-b-2 border-gray-200 flex\">\r\n            <div className=\"font-bold w-1/6\">Aktionen</div>\r\n            <div className=\"flex items-center\">\r\n              {!isUser && (\r\n                <Link\r\n                  className=\"bg-blue-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-blue-500 transition-all focus:shadow-outline focus:outline-none mr-4\"\r\n                  to={`${location.pathname}/edit`}\r\n                >\r\n                  <BsPencil className=\"text-md mr-2\" />\r\n                  Bearbeiten\r\n                </Link>\r\n              )}\r\n              <BDeleteButton onDelete={handleDelete} />\r\n              {isBroker && data.isActive && (\r\n                <BActivateButton onActivate={handleDeactivate} btnText=\"Deaktivieren\" />\r\n              )}\r\n              {isBroker && !data.isActive && (\r\n                <BActivateButton onActivate={handleActivate} btnText=\"Aktivieren\" />\r\n              )}\r\n              {!isBlocked && (\r\n                <BBlockButton onBlock={handleBlock} btnText=\"Blockiere\" />\r\n              )}\r\n              {isBlocked && (\r\n                <BBlockButton onBlock={handleUnblock} btnText=\"Entsperren\" />\r\n              )}\r\n              {(isUser && canMessages) && (\r\n                <Link\r\n                className=\"bg-blue-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-blue-500 transition-all focus:shadow-outline focus:outline-none mx-4\"\r\n                to={`${location.pathname}/messages`}\r\n              >\r\n                <FaMailBulk className=\"text-md mr-2\" />\r\n                Mitteilungen\r\n              </Link>\r\n              )}\r\n              {isUser && data.zipCode !== null && (\r\n                <Link\r\n                className=\"bg-purple-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-purple-500 transition-all focus:shadow-outline focus:outline-none mr-4\"\r\n                to={`${location.pathname}/property`}\r\n              >\r\n                <FaHome className=\"text-md mr-2\" />\r\n                Immobilien\r\n              </Link>\r\n              )}\r\n              {isBroker && (\r\n                <Link\r\n                  className=\"bg-purple-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-purple-500 transition-all focus:shadow-outline focus:outline-none ml-4\"\r\n                  to={`${location.pathname}/properties`}\r\n                >\r\n                  <BsHouse className=\"text-md mr-2\" />\r\n                  Immobilien\r\n                </Link>\r\n              )}\r\n              {isBroker && (\r\n                <Link\r\n                  className=\"bg-green-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-green-500 transition-all focus:shadow-outline focus:outline-none ml-4\"\r\n                  to={`${location.pathname}/punkte`}\r\n                >\r\n                  <FaFlagCheckered className=\"text-md mr-2\" />\r\n                  Punkte\r\n                </Link>\r\n              )}\r\n              {isUser && (\r\n                <Link\r\n                  className=\"bg-green-600 py-1 px-3 rounded-md shadow-md cursor-pointer text-white flex items-center hover:bg-green-500 transition-all focus:shadow-outline focus:outline-none mr-4\"\r\n                  to={`${location.pathname}/notes`}\r\n                >\r\n                  <BsBookHalf className=\"text-md mr-2\" />\r\n                  Anmerkungen\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <BLoadingIndicator />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BDetailsPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { coworkersService } from \"../../../service/coworkersService\";\r\nimport BDetailsPage from \"../../../components/crud/BDetailsPage\";\r\nimport BErrorIndicator from \"../../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../../components/indicators/BLoadingIndicator\";\r\n\r\nexport default function CoworkersDetails() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [coworker, setCoworker] = useState(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    coworkersService\r\n      .getCoworkerById(id)\r\n      .then((res) => setCoworker(res.data))\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          pushBack();\r\n        }\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleDelete = () => {\r\n    coworkersService.deleteCoworker(id).then(() => {\r\n      pushBack();\r\n    });\r\n  };\r\n\r\n  const handleBlock = () => {\r\n    coworkersService.blockCoworker(id).then(() => {\r\n      pushBack();\r\n    });\r\n  };\r\n\r\n  const handleUnblock = () => {\r\n    coworkersService.unblockCoworker(id).then(() => {\r\n      pushBack();\r\n    });\r\n  };\r\n\r\n  const pushBack = () => {\r\n    history.push(`/coworkers`);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  return (\r\n    <BDetailsPage\r\n      data={coworker}\r\n      handleDelete={handleDelete}\r\n      handleBlock={handleBlock}\r\n      handleUnblock={handleUnblock}\r\n      isBlocked={coworker?.isBlocked}\r\n    />\r\n  );\r\n}\r\n","import React from 'react'\r\nimport BForm from '../components/forms/BForm';\r\n\r\nexport default function EditCoworkerForm({ onSubmit, btnText, preloadedData, isNew, responseErrors}) {\r\n    const fields = [\r\n      {\r\n        fieldName: \"email\",\r\n        placeholder: \"Email\",\r\n        validation: {\r\n          required: true,\r\n        },\r\n      },\r\n      {\r\n        fieldName: \"canCustomers\",\r\n        placeholder: \"Kann Benutzer anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canBrokers\",\r\n        placeholder: \"Kann Makler anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canPartner\",\r\n        placeholder: \"Kann Kooperationspartner anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canStatistics\",\r\n        placeholder: \"Kann Statistiken anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canRanking\",\r\n        placeholder: \"Kann Ranking anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canMessages\",\r\n        placeholder: \"Kann Nachrichten anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n      {\r\n        fieldName: \"canNotifications\",\r\n        placeholder: \"Kann Benachrichtigungen anzeigen\",\r\n        type: \"checkbox\",\r\n      },\r\n    ]\r\n\r\n    return (\r\n      <BForm\r\n        preloadedData={preloadedData}\r\n        btnText={btnText}\r\n        submit={onSubmit}\r\n        fields={fields}\r\n        responseErrors={responseErrors}\r\n      />\r\n    );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport BSpinner from \"../../../components/spinners/BSpinner\";\r\nimport EditCoworkerForm from \"../../../forms/EditCoworkerForm\";\r\nimport { coworkersService } from \"../../../service/coworkersService\";\r\n\r\nexport default function CoworkersEditPage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [responseErrors, setResponseErrors] = useState();\r\n  const { id } = useParams();\r\n  const [coworker, setCoworker] = useState();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setResponseErrors([]);\r\n    \r\n    coworkersService\r\n      .getCoworkerById(id)\r\n      .then((res) => setCoworker(res.data))\r\n      .catch((err) => {\r\n        if (!err.response || err.response.status === 404) {\r\n          history.push(\"/coworkers\");\r\n        }\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleSubmit = (data) => {\r\n    setIsLoading(true);\r\n    setResponseErrors([]);\r\n\r\n    coworkersService\r\n      .updateCoworker(id, data)\r\n      .then(() => {\r\n        history.push(`/coworkers/${id}`);\r\n      })\r\n      .catch((err) => {\r\n        setResponseErrors(err.response.data);\r\n      });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"m-6 bg-white border-gray-400 rounded shadow-md\">\r\n      <EditCoworkerForm\r\n        isNew={false}\r\n        onSubmit={handleSubmit}\r\n        preloadedData={coworker}\r\n        btnText=\"Speichern\"\r\n        responseErrors={responseErrors}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import httpClient from \"../utilis/jwtRequest\";\r\n\r\nconst USERS_URL = \"/Customers\";\r\n\r\nfunction getCurrentUser() {\r\n  return httpClient.get(`${USERS_URL}/current`)\r\n}\r\nfunction getUserById(id) {\r\n  return httpClient.get(`${USERS_URL}/${id}/`);\r\n}\r\nfunction deleteUser(id) {\r\n  return httpClient.delete(`${USERS_URL}/${id}/`);\r\n}\r\nfunction getAllUsers() {\r\n  return httpClient.get(`${USERS_URL}/`);\r\n}\r\nfunction getUserChats(id) {\r\n  return httpClient.get(`/Users/${id}/chats`);\r\n}\r\nfunction blockUser(id) {\r\n  return httpClient.post(`/Users/${id}/block`);\r\n}\r\nfunction unblockUser(id) {\r\n  return httpClient.post(`/Users/${id}/unblock`);\r\n}\r\nfunction updateUserNotes(id, note) {\r\n  return httpClient.patch(`Users/${id}/`, { note: note })\r\n}\r\n\r\nexport const usersService = {\r\n  getCurrentUser,\r\n  getUserById,\r\n  deleteUser,\r\n  getAllUsers,\r\n  blockUser,\r\n  unblockUser,\r\n  getUserChats,\r\n  updateUserNotes\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport BDetailsPage from \"../../../components/crud/BDetailsPage\";\r\nimport BErrorIndicator from \"../../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../../components/indicators/BLoadingIndicator\";\r\nimport { authService } from \"../../../service/authService\";\r\nimport { usersService } from \"../../../service/usersService\";\r\n\r\nconst UsersDetails = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const [canMessages, setCanMessages] = useState();\r\n\r\n  useEffect(() => {\r\n    usersService\r\n      .getUserById(id)\r\n      .then((res) => setUser(res.data))\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          history.push(\"/customers\");\r\n        }\r\n        setError(true);\r\n      });\r\n\r\n    authService\r\n      .getCurrentUser()\r\n      .then((res) => setCanMessages(res.data.isAdmin || res.data.canMessages))\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          history.push(\"/customers\");\r\n        }\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleDelete = () => {\r\n    usersService.deleteUser(id).then(() => {\r\n      history.push(\"/customers\");\r\n    });\r\n  };\r\n\r\n  const handleBlock = () => {\r\n    usersService.blockUser(id).then(() => {\r\n      history.push(`/customers`);\r\n    });\r\n  };\r\n\r\n  const handleUnblock = () => {\r\n    usersService.unblockUser(id).then(() => {\r\n      history.push(`/customers`);\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  return (\r\n    <BDetailsPage\r\n      data={user}\r\n      canMessages={canMessages}\r\n      isUser=\"isUser\"\r\n      handleDelete={handleDelete}\r\n      handleBlock={handleBlock}\r\n      handleUnblock={handleUnblock}\r\n      isBlocked={user?.isBlocked}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UsersDetails;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport BDetailsPage from \"../../../components/crud/BDetailsPage\";\r\nimport BErrorIndicator from \"../../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../../components/indicators/BLoadingIndicator\";\r\nimport { maklersService } from \"../../../service/maklersService\";\r\n\r\nconst MaklersDetails = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [makler, setMakler] = useState(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setError(false);\r\n    maklersService\r\n      .getMaklerById(id)\r\n      .then((res) => {\r\n        setMakler(parseBrokerObjectsToStrings(res.data))\r\n      }) \r\n      .catch((err) => {\r\n        if (!err.response || err.response.status === 404) {\r\n          history.push(\"/brokers\");\r\n        }\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const parseBrokerObjectsToStrings = (broker) => {\r\n    broker.regions = broker.regions ? broker.regions.map((el) => el.name).join(\", \") : \"\";\r\n    delete broker.regionsPlaces;\r\n    broker.zipCodes = broker.zipCodes ? broker.zipCodes.join(\", \") : \"\";\r\n    if (broker != null && broker.districts != null && broker.districts.length > 0) {\r\n      broker.districts = broker.districts.map(x => x.name).join(\", \");\r\n    }\r\n    return broker;\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    maklersService.deleteMakler(id).then(() => {\r\n      history.push(\"/brokers\");\r\n    });\r\n  };\r\n\r\n  const handleActivate = () => {\r\n    maklersService.activateMakler(id).then(() => {\r\n      history.push(\"/brokers\");\r\n    });\r\n  };\r\n\r\n  const handleDeactivate = () => {\r\n    maklersService.deactivateMakler(id).then(() => {\r\n      history.push(\"/brokers\");\r\n    });\r\n  };\r\n\r\n  const handleBlock = () => {\r\n    maklersService.blockMakler(id).then(() => {\r\n      history.push(\"/brokers\");\r\n    });\r\n  };\r\n\r\n  const handleUnblock = () => {\r\n    maklersService.unblockMakler(id).then(() => {\r\n      history.push(\"/brokers\");\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  return (\r\n    <BDetailsPage\r\n      data={makler}\r\n      handleDelete={handleDelete}\r\n      handleActivate={handleActivate}\r\n      handleDeactivate={handleDeactivate}\r\n      handleBlock={handleBlock}\r\n      handleUnblock={handleUnblock}\r\n      isActive={makler?.isActive}\r\n      isBlocked={makler?.isBlocked}\r\n      isBroker={true}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MaklersDetails;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport BDetailsPage from \"../../../components/crud/BDetailsPage\";\r\nimport BErrorIndicator from \"../../../components/indicators/BErrorIndicator\";\r\nimport BLoadingIndicator from \"../../../components/indicators/BLoadingIndicator\";\r\nimport { partnersService } from \"../../../service/partnersService\";\r\n\r\n\r\nconst PartnersDetails = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [partner, setPartner] = useState(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    partnersService\r\n      .getPartnerById(id)\r\n      .then((res) => setPartner(res.data))\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          history.push(\"/partners\");\r\n        }\r\n        setError(true);\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleDelete = () => {\r\n    partnersService.deletePartner(id);\r\n    history.push(\"/partners\");\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <BLoadingIndicator />;\r\n  } else if (error) {\r\n    return <BErrorIndicator />;\r\n  }\r\n\r\n  return <BDetailsPage data={partner} handleDelete={handleDelete} />;\r\n};\r\n\r\nexport default PartnersDetails;\r\n","import React from \"react\";\r\nimport BAddPage from \"../../../components/crud/BAddPage\";\r\nimport { coworkersService } from \"../../../service/coworkersService\";\r\nimport { entities } from \"../../../utilis/entitiesNames\";\r\n\r\nexport default function CoworkerAddPage() {\r\n  return <BAddPage name={entities.COWORKERS} service={coworkersService} />;\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport BSpinner from \"../../components/spinners/BSpinner\";\r\nimport { usersService } from \"../../service/usersService\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useParams } from \"react-router\";\r\nimport NotesForm from \"./NotesForm\";\r\n\r\nexport default function UserNotesPage() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errors, setErrors] = useState([]);\r\n  const [user, setUser] = useState({});\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n\r\n    usersService\r\n      .getUserById(id)\r\n      .then((res) => { \r\n        setUser(res.data);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.data) {\r\n          setErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [id]);\r\n\r\n  const tryUpdate = (data) => {\r\n    setIsLoading(true);\r\n    setErrors([])\r\n\r\n    usersService\r\n      .updateUserNotes(id, data.note)\r\n      .then(() => {\r\n        history.push(`/users/${id}`);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.data) {\r\n          setErrors(err.response.data);\r\n        }\r\n      })\r\n      .finally((_) => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <BSpinner />}\r\n      {!isLoading && (\r\n        <div className=\"m-6 bg-white border-gray-400 rounded shadow-md relative\">\r\n          <NotesForm\r\n            onSubmit={tryUpdate}\r\n            isNew={false}\r\n            preloadedData={user}\r\n            btnText=\"Speichern\"\r\n            responseErrors={errors}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}","import { useParams } from \"react-router\";\r\nimport BResourcePage from \"../../../components/resources/BResourcePage\";\r\n\r\nconst MaklerPropertiesPage = () => {\r\n  const params = useParams();\r\n\r\n  return <BResourcePage title={\"Immobilien\"} url={`/Brokers/admin/${params.id}/properties`} />;\r\n}\r\n\r\nexport default MaklerPropertiesPage;","import React from 'react';\r\nimport {FaRegWindowClose} from 'react-icons/fa';\r\n\r\nexport const UserPunktePoPup = (\r\n  {setIsPopUpVisible,\r\n  newPoint,\r\n  setNewPoint,\r\n  districtName,\r\n  saveChange}\r\n) => {\r\n  return (\r\n    <div className='absolute top-1/3 '>\r\n      <div className='w-72 h-64 shadow-inner  bg-white'>\r\n        <div className='flex justify-end'>\r\n          <div className='p-1'>\r\n            <button\r\n              onClick={() => {\r\n                setIsPopUpVisible(false);\r\n              }}\r\n            >\r\n              <FaRegWindowClose className='w-6 h-6' />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div>\r\n        <div className='font-bold w-full text-center'>{districtName}</div>\r\n          <div className='h-32 flex items-center justify-center'>\r\n            <div className='w-40 border-b-2 border-black text-center'>\r\n              <p>PKT</p>\r\n              <input\r\n                type='number'\r\n                placeholder='Eingeben PKT'\r\n                className='bg-transparent text-center w-7/8'\r\n                defaultValue={newPoint}\r\n                onChange={(e) => {\r\n                  setNewPoint(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='text-center mt-1'>\r\n          <button\r\n            onClick={saveChange}\r\n            className='shadow bg-blue-accent cursor-pointer hover:bg-blue-hover \r\n              focus:shadow-outline focus:outline-none text-white font-bold py-1 mb-1 px-3 rounded mx-auto'\r\n          >\r\n            Speichern\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { maklersService } from \"../../../../service/maklersService\";\r\nimport { UserPunktePoPup } from \"./UserPunktePoPup\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BTableHeader from \"../../../../components/tables/BTableHeader\";\r\nimport { BsPencilSquare } from \"react-icons/bs\";\r\n\r\nconst UserPunktePage = () => {\r\n  const { id } = useParams();\r\n\r\n  const [points, setPoints] = useState();\r\n  const [isPopUpVisible, setIsPopUpVisible] = useState(false);\r\n  const [newPoint, setNewPoint] = useState();\r\n  const [newDistrict, setNewDistrict] = useState();\r\n\r\n  useEffect(() => {\r\n    if (isPopUpVisible) return;\r\n\r\n    maklersService.getMaklerPointsById(id).then((res) => {\r\n      setPoints(res.data);\r\n    });\r\n  }, [id, isPopUpVisible]);\r\n\r\n  const saveChange = () => {\r\n    maklersService\r\n      .saveMaklerPointsById(id, {\r\n        points: Number(newPoint),\r\n        districtId: newDistrict.id,\r\n      })\r\n      .then(() => setIsPopUpVisible(false))\r\n      .catch((error) => {\r\n        alert(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <BTableHeader header={\"Punkte\"} />\r\n      <div className=\"bg-white rounded shadow-md w-full flex flex-col border-gray-400 py-2 px-3 mt-6\">\r\n        <div className=\"mt-8 flex justify-around items-stretch w-full\">\r\n          {points ? (\r\n            <>\r\n              <PointsTableColumn\r\n                headerText=\"District\"\r\n                items={points.map((x) => x.district && x.district.name)}\r\n              />\r\n              <PointsTableColumn\r\n                headerText=\"Points\"\r\n                items={points.map((x) => x.points)}\r\n              />\r\n              <PointsTableColumn\r\n                headerText=\"Edit\"\r\n                items={points.map((x) => (\r\n                  <button\r\n                    onClick={() => {\r\n                      setIsPopUpVisible(true);\r\n                      setNewDistrict(x.district);\r\n                      setNewPoint(x.points);\r\n                    }}\r\n                  >\r\n                    <BsPencilSquare />\r\n                  </button>\r\n                ))}\r\n              />\r\n            </>\r\n          ) : (\r\n            <div>Loading</div>\r\n          )}\r\n\r\n          {isPopUpVisible === true ? (\r\n            <UserPunktePoPup\r\n              setIsPopUpVisible={setIsPopUpVisible}\r\n              newPoint={newPoint}\r\n              districtName={newDistrict.name}\r\n              setNewPoint={setNewPoint}\r\n              saveChange={saveChange}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PointsTableColumn = ({ headerText, items }) => {\r\n  return (\r\n    <div class=\"flex flex-col text-center\">\r\n      <div className=\"font-bold\">{headerText}</div>\r\n      <div>{items && items.map((x) => x !== undefined && <div className=\"w-full mt-2\">{x}</div>)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPunktePage;\r\n","import { Route, Switch } from \"react-router-dom\";\r\nimport { authService } from \"../../service/authService\";\r\nimport { useEffect, useState } from \"react\";\r\nimport SideBar from \"../SideBar/SideBar\";\r\nimport UsersPage from \"../CRUDPages/UsersPage/UsersPage\";\r\nimport MaklersPage from \"../CRUDPages/MaklersPage/MaklersPage\";\r\nimport PartnersPage from \"../CRUDPages/PartnersPage/PartnersPage\";\r\nimport MaklersEditPage from \"../CRUDPages/MaklersPage/MaklersEditPage\";\r\nimport MaklersAddPage from \"../CRUDPages/MaklersPage/MaklersAddPage\";\r\nimport PartnersAddPage from \"../CRUDPages/PartnersPage/PartnersAddPage\";\r\nimport PartnersEditPage from \"../CRUDPages/PartnersPage/PartnersEditPage\";\r\nimport StatisticsPage from \"../ReadOnlyPages/StatisticsPage\";\r\nimport RankingPage from \"../ReadOnlyPages/RankingPage\";\r\nimport UserMessagesPage from \"../CRUDPages/UsersPage/UserMessagesPage\";\r\nimport UserPropertyPage from \"../CRUDPages/UsersPage/UserPropertyPage\";\r\nimport OffertsPage from \"../OffertsPage/OffertsPage\";\r\nimport CoworkersPage from \"../CRUDPages/CoworkersPage/CoworkersPage\";\r\nimport CoworkersDetails from \"../CRUDPages/CoworkersPage/CoworkersDetails\";\r\nimport CoworkersEditPage from \"../CRUDPages/CoworkersPage/CoworkersEditPage\";\r\nimport UsersDetails from \"../CRUDPages/UsersPage/UsersDetails\";\r\nimport MaklersDetails from \"../CRUDPages/MaklersPage/MaklersDetails\";\r\nimport PartnersDetails from \"../CRUDPages/PartnersPage/PartnersDetails\";\r\nimport CoworkerAddPage from \"../CRUDPages/CoworkersPage/CoworkerAddPage\";\r\nimport \"./HomePage.css\";\r\nimport UserNotesPage from \"../NotesPage/UserNotesPage\";\r\nimport MaklerPropertiesPage from \"../CRUDPages/MaklersPage/MaklerPropertyPage\";\r\nimport UserPunktePage from \"../CRUDPages/UsersPage/UserPunktePage/UserPunktePage\";\r\n\r\nfunction HomePage() {\r\n  const [canNotifications, setCanNotifications] = useState(false);\r\n  const [canCoworkers, setCanCoworkers] = useState(false);\r\n  const [canStatistics, setCanStatistics] = useState(false);\r\n  const [canRanking, setCanRanking] = useState(false);\r\n  const [canPartners, setCanPartners] = useState(false);\r\n  const [canBrokers, setCanBrokers] = useState(false);\r\n  const [canCustomers, setCanCustomers] = useState(false);\r\n  const [canMessages, setCanMessages] = useState(false);\r\n\r\n  useEffect(() => {\r\n    authService.getCurrentUser().then((res) => {\r\n      setCanBrokers(isAllowed(\"canBrokers\", res.data));\r\n      setCanCoworkers(isAllowed(\"canCoworkers\", res.data));\r\n      setCanStatistics(isAllowed(\"canStatistics\", res.data));\r\n      setCanRanking(isAllowed(\"canRanking\", res.data));\r\n      setCanPartners(isAllowed(\"canPartners\", res.data));\r\n      setCanCustomers(isAllowed(\"canCustomers\", res.data));\r\n      setCanNotifications(isAllowed(\"canNotifications\", res.data));\r\n      setCanMessages(isAllowed(\"canMessages\", res.data))\r\n    });\r\n  }, []);\r\n\r\n  const isAllowed = (permission, user) => {\r\n    return user.isAdmin || user[permission];\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-200 h-screen w-full px-0 mx-0 flex\">\r\n      <SideBar />\r\n      <div className=\"bg-gray-200 margin-left w-full relative w-90per\">\r\n        <Switch>\r\n          {canCustomers && (\r\n            <Route exact path=\"/customers/:id\" component={UsersDetails} />\r\n          )}\r\n          {canCustomers && <Route exact path=\"/customers\" component={UsersPage} />}\r\n          {(canCustomers && canMessages) && (\r\n            <Route\r\n              exact\r\n              path=\"/customers/:id/messages\"\r\n              component={UserMessagesPage}\r\n            />\r\n          )}\r\n          {canCustomers && (\r\n            <Route\r\n              exact\r\n              path=\"/customers/:id/property\"\r\n              component={UserPropertyPage}\r\n            />\r\n          )}\r\n          {canCustomers && (\r\n            <Route\r\n              exact\r\n              path=\"/customers/:id/notes\"\r\n              component={UserNotesPage}\r\n            />\r\n          )}\r\n          {canBrokers && (\r\n            <Route exact path=\"/brokers/add\" component={MaklersAddPage} />\r\n          )}\r\n          {canBrokers && (\r\n            <Route exact path=\"/brokers/:id/edit\" component={MaklersEditPage} />\r\n          )}\r\n          {canBrokers && (\r\n            <Route exact path=\"/brokers/:id\" component={MaklersDetails} />\r\n          )}\r\n          {canBrokers && (\r\n            <Route exact path=\"/brokers/:id/punkte\" component={UserPunktePage} />\r\n          )}\r\n          {canBrokers && (\r\n            <Route exact path=\"/brokers\" component={MaklersPage} />\r\n          )}\r\n          {canBrokers && (\r\n            <Route\r\n              exact\r\n              path=\"/brokers/:id/properties\"\r\n              component={MaklerPropertiesPage}\r\n            />\r\n          )}\r\n          {canCoworkers && (\r\n            <Route exact path=\"/coworkers/add\" component={CoworkerAddPage} />\r\n          )}\r\n          {canCoworkers && (\r\n            <Route\r\n              exact\r\n              path=\"/coworkers/:id/edit\"\r\n              component={CoworkersEditPage}\r\n            />\r\n          )}\r\n\r\n          {canCoworkers && (\r\n            <Route exact path=\"/coworkers/:id\" component={CoworkersDetails} />\r\n          )}\r\n          {canCoworkers && (\r\n            <Route exact path=\"/coworkers\" component={CoworkersPage} />\r\n          )}\r\n\r\n          {canPartners && (\r\n            <Route exact path=\"/partners/add\" component={PartnersAddPage} />\r\n          )}\r\n          {canPartners && (\r\n            <Route\r\n              exact\r\n              path=\"/partners/:id/edit\"\r\n              component={PartnersEditPage}\r\n            />\r\n          )}\r\n          {canPartners && (\r\n            <Route exact path=\"/partners/:id\" component={PartnersDetails} />\r\n          )}\r\n          {canPartners && (\r\n            <Route exact path=\"/partners\" component={PartnersPage} />\r\n          )}\r\n\r\n          {canRanking && (\r\n            <Route exact path=\"/ranking\" component={RankingPage} />\r\n          )}\r\n\r\n          {canStatistics && (\r\n            <Route exact path=\"/statistics\" component={StatisticsPage} />\r\n          )}\r\n\r\n          {canNotifications && (\r\n            <Route exact path=\"/offerts\" component={OffertsPage} />\r\n          )}\r\n\r\n          {canCustomers && <Route exact path=\"/\" component={UsersPage} />}\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import { useEffect, useState } from \"react\";\r\nimport { authService } from \"./service/authService\";\r\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\r\nimport HomePage from \"./pages/HomePage/HomePage\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  const [tokenState, setTokenState] = useState(authService.tokenValue);\r\n\r\n  useEffect(() => {\r\n    authService.setAccessTokenFromLocalStorage();\r\n    authService.currentToken.subscribe(setTokenState);\r\n  }, []);\r\n\r\n  const isLoggedIn = () => {\r\n    return tokenState !== \"\";\r\n  };\r\n  return (\r\n    <>\r\n      {!isLoggedIn() && (\r\n        <Switch>\r\n          <Route path=\"/\" component={LoginPage} />\r\n        </Switch>\r\n      )}\r\n      {isLoggedIn() && (\r\n        <Switch>\r\n          <Route path=\"/\" component={HomePage} />\r\n        </Switch>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}